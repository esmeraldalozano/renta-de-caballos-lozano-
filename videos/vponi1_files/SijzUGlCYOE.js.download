;/*FB_PKG_DELIM*/

__d("WAWebLidAwareContactsDB",["WAWebSchemaContact"],(function(a,b,c,d,e,f,g){function a(a){return d("WAWebSchemaContact").getContactTable().get(a)}function b(){return d("WAWebSchemaContact").getContactTable().all()}function c(a){return d("WAWebSchemaContact").getContactTable().clear(a)}function e(a,b,c){return d("WAWebSchemaContact").getContactTable().equals(a,b,c)}function f(a){return d("WAWebSchemaContact").getContactTable().create(a)}function h(a,b){return d("WAWebSchemaContact").getContactTable().bulkGet(a,b)}function i(a,b){return d("WAWebSchemaContact").getContactTable().merge(a,b)}function j(a,b){return d("WAWebSchemaContact").getContactTable().createOrMerge(a,b)}function k(a){return d("WAWebSchemaContact").getContactTable().bulkCreateOrMerge(a)}function l(a){return d("WAWebSchemaContact").getContactTable().bulkRemove(a)}function m(a){return d("WAWebSchemaContact").getContactTable().remove(a)}a={get:a,all:b,clear:c,equals:e,create:f,bulkGet:h,merge:i,createOrMerge:j,bulkCreateOrMerge:k,bulkRemove:l,remove:m};g["default"]=a}),98);
__d("WAWebLidPnCache",["WAWebWidFactory","err"],(function(a,b,c,d,e,f,g){a=function(){function a(){this.$1=new Map(),this.$2=new Map()}var b=a.prototype;b.getPhoneNumber=function(a){return(a=this.getLidEntry(a))==null?void 0:a.phoneNumber};b.getLidEntry=function(a){if(!a.isUser()||!a.isLid())throw c("err")("WaWebLidPnCache - Invalid get call");a=a.toString();if(this.$1.has(a))return this.$1.get(a)};b.getCurrentLid=function(a){if(!a.isUser()||a.isLid())throw c("err")("WaWebLidPnCache - Invalid get call");a=a.toString();if(this.$2.has(a)){return(a=this.$2.get(a))==null?void 0:a.lid}};b.add=function(a,b){if(!a.isLid())throw c("err")("WaWebLidPnCache - Invalid add call");a=a.toString();this.$1.set(a,b);a=b.phoneNumber;a!=null&&this.$3(a,b)};b.$3=function(a,b){if(a.isLid())throw c("err")("WaWebLidPnCache - Invalid _updatePnMap call");a=a.toString();if(this.$2.has(a)){var d=this.$2.get(a);d!=null&&(d==null?void 0:d.phoneNumberCreatedAt)<b.phoneNumberCreatedAt&&this.$2.set(a,b)}else this.$2.set(a,b)};b.getAllLids=function(){return Array.from(this.$1.keys()).sort().map(function(a){return d("WAWebWidFactory").createUserWid(a)})};b.clear=function(){this.$1.clear(),this.$2.clear()};return a}();g.LidPnCache=a}),98);
__d("WAWebApiContact",["Promise","WABase64","WAErr","WAJids","WALogger","WAMd5","WATimeUtils","WAWebABProps","WAWebBackendApi","WAWebBizCoexGatingUtils","WAWebJidUtils","WAWebLidAwareContactsDB","WAWebLidPnCache","WAWebModelStorageUtils","WAWebProtobufsAdv.pb","WAWebSchemaContact","WAWebUserPrefsMeUser","WAWebWid","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["updateContactAdvHostedTypefailed"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["LID is null - fetching "," PN records. Mapping is missing for :",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["flushLidPnMappingsToDb failed!"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["lidPnCacheDirtySet: "," flushed"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["flush lidPnCacheDirtySet: get dirty updates for ",""]);m=function(){return a};return a}var n=new(d("WAWebLidPnCache").LidPnCache)(),o=new Set();function a(a){return d("WAWebModelStorageUtils").getStorage().lock(["contact"],function(b){b=b[0];var c=a.map(function(a){return{id:a,isAddressBookContact:0,name:void 0,shortName:void 0,type:"out",contactHash:r(a)}});return b.bulkCreateOrMerge(c)})}function e(a){return c("WAWebLidAwareContactsDB").bulkCreateOrMerge(a)}function f(a){return c("WAWebLidAwareContactsDB").bulkRemove(a)}function p(a){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield c("WAWebLidAwareContactsDB").get(a));return a==null?!1:a.isAddressBookContact===1});return q.apply(this,arguments)}function r(a){a=d("WAWebWidFactory").createWid(a).user;a=d("WABase64").decodeB64(c("WAMd5")(a+"WA_ADD_NOTIF"));return d("WABase64").encodeB64(a.slice(0,3))}function s(a){return d("WAWebModelStorageUtils").getStorage().lock(["contact"],function(b){b=b[0];var c=a.map(function(a){var b=a.lid;a=a.data;return babelHelpers["extends"]({id:b.toString()},a)});return b.bulkCreateOrMerge(c)})}function t(a){var e=a.mappings,f=a.flushImmediately,g=[],i=new Map(e.map(function(a){return[a.pn,a.lid]})),j=d("WATimeUtils").unixTime();e.forEach(function(a){var b=a.lid,c=n.getPhoneNumber(b),e=c!=null?n.getCurrentLid(c):null;if(c==null||e!=null&&!e.equals(a.lid)){c=i.get(a.pn)===b?j:d("WATimeUtils").castToUnixTime(0);n.add(b,{lid:b,phoneNumber:a.pn,phoneNumberCreatedAt:c});f?g.push(babelHelpers["extends"]({},a,{phoneNumberCreatedAt:c})):o.add(b.toString())}});f&&o.size>0&&(d("WALogger").LOG(m(),Array.from(o).join(",")),o.forEach(function(a){a=d("WAWebWidFactory").createUserWid(a);var b=n.getLidEntry(a);b!=null&&g.push({lid:a,pn:d("WAWebWidFactory").toUserWid(b.phoneNumber),phoneNumberCreatedAt:d("WATimeUtils").castToUnixTime(b.phoneNumberCreatedAt)})}),d("WALogger").LOG(l(),o.size),o.clear());if(g.length===0)return(h||(h=b("Promise"))).resolve();a=g.map(function(a){var b=a.lid,c=a.pn;a=a.phoneNumberCreatedAt;return{id:b.toString(),phoneNumber:c.toString(),phoneNumberCreatedAt:a}});return c("WAWebLidAwareContactsDB").bulkCreateOrMerge(a)}function u(){return t({mappings:[],flushImmediately:!0})["catch"](function(a){d("WALogger").ERROR(k()).devConsole(a).sendLogs("Failed to flushLidPnMappingsToDb")})}function v(a,b,c){n.add(a,{lid:a,phoneNumber:b,phoneNumberCreatedAt:c})}function w(a){var b=new Map();a.forEach(function(a){var c=y(d("WAWebWidFactory").toUserWid(a));c!=null&&b.set(c.toString(),a)});return b}function x(a){var b=new Map();a.forEach(function(a){a=d("WAWebWidFactory").createUserWid(a);if(c("WAWebWid").isLid(a)){var e=B(a);if(e!=null){var f=[];f.push(e.toString());if(!e.isLid()){e=A(e);e!=null&&!c("WAWebWid").equals(a,e)&&f.push(e.toString())}b.set(a.toString(),f)}}});return b}function y(a){if(a.device!=null)throw c("WAErr")("getAlternateUserWid - Invalid get call using deviceWid");return a.isLid()?B(a):A(a)}function z(a){var b=y(d("WAWebWidFactory").toUserWid(a));if(b!=null){return d("WAWebWidFactory").createDeviceWidFromUserAndDevice(b.user,b.server,(b=a.device)!=null?b:d("WAJids").DEFAULT_DEVICE_ID)}}function A(a){var b=d("WAWebUserPrefsMeUser").getMaybeMeUser(),c=d("WAWebUserPrefsMeUser").getMaybeMeLidUser();return c!=null&&b!=null&&a.equals(b)?c:n.getCurrentLid(a)}function B(a){var b=d("WAWebUserPrefsMeUser").getMaybeMeLidUser(),c=d("WAWebUserPrefsMeUser").getMaybeMeUser();return c!=null&&b!=null&&a.equals(b)?c:n.getPhoneNumber(a)}function C(){n.clear(),o.clear()}function D(){return n.getAllLids()}function E(a){return c("WAWebLidAwareContactsDB").get(a.toJid())}function F(a){return G.apply(this,arguments)}function G(){G=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield E(a));return a==null?void 0:a.username});return G.apply(this,arguments)}function H(a){return d("WAWebModelStorageUtils").getStorage().lock(["contact"],function(b){b=b[0];var c=a.map(function(a){var b=a.id,c=a.username;a=a.displayNameLID;return babelHelpers["extends"]({id:b,username:c},a!=null&&{displayNameLID:a})});return b.bulkCreateOrMerge(c)})}function I(a,b){return J.apply(this,arguments)}function J(){J=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){if(d("WAWebBizCoexGatingUtils").bizHostedDevicesEnabled()){if(c==null)return;var e=a.isLid()?d("WAWebJidUtils").toLidUserJid(a.user):d("WAWebJidUtils").toPhoneUserJid(a.user);yield d("WAWebSchemaContact").getContactTable().merge(e,{isHosted:c===d("WAWebProtobufsAdv.pb").ADVEncryptionType.HOSTED})["catch"](function(a){d("WALogger").ERROR(i()).verbose().devConsole(a);throw a});d("WAWebBackendApi").frontendFireAndForget("updateContactAdvAccountType",{contactId:a,advAccountType:c})}return(h||(h=b("Promise"))).resolve()});return J.apply(this,arguments)}function K(a){if(!d("WAWebABProps").getABPropConfigValue("web_single_signal_session_and_identity_read_using_lid"))return;var b=new Set();a.forEach(function(a){a.isLid()||b.add(d("WAWebWidFactory").toUserWid(a).toString())});var c=new Set();b.forEach(function(a){var b=A(d("WAWebWidFactory").createUserWid(a));b==null&&c.add(a)});c.size>0&&d("WALogger").ERROR(j(),b.size,c.size).sendLogs("lidInfraAccount")}g.lidPnCache=n;g.lidPnCacheDirtySet=o;g.setNotAddressBookContacts=a;g.createOrMergeAddressBookContacts=e;g.deleteAddressBookContacts=f;g.isAddressBookContact=p;g.getContactHash=r;g.updateLidMetadata=s;g.createLidPnMappings=t;g.flushLidPnMappingsToDb=u;g.warmUpLidPnMapping=v;g.getAlternateWidBulk=w;g.getAlternateWidBulkForLids=x;g.getAlternateUserWid=y;g.getAlternateDeviceWid=z;g.getCurrentLid=A;g.getPhoneNumber=B;g.clearLidPnMappingCache=C;g.getAllLidContacts=D;g.getContactRecord=E;g.getContactUsername=F;g.bulkUpdateUsernamesInDb=H;g.updateContactAdvHostedType=I;g.checkPnToLidMapping=K}),98);
__d("WAWebBackendErrors",["WACustomError","WALogger"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["",", error"]);h=function(){return a};return a}c=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){c=a.call(this,c)||this;c.status=b;c.statusCode=b;return c}return b}((b=d("WACustomError")).customError("ServerStatusCodeError"));e=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d){d=a.call(this,d)||this;d.errors=c;d.status=b;d.statusCode=b;return d}return b}(b.customError("ServerStatusCodeError"));f=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.call(this,451,"commerce features disabled")||this}return b}(b.customError("E451",!0,c));var i=function(b){babelHelpers.inheritsLoose(a,b);function a(a){return b.call(this,401,a)||this}return a}(b.customError("E401",!0,c)),j=function(b){babelHelpers.inheritsLoose(a,b);function a(a){return b.call(this,404,a)||this}return a}(b.customError("E404",!0,c)),k=function(b){babelHelpers.inheritsLoose(a,b);function a(a){return b.call(this,499,a)||this}return a}(b.customError("E499",!0,c)),l=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){a=b.call(this,507,a)||this;a.backoff=Number.isNaN(c)?null:c;return a}return a}(b.customError("E507",!0,c)),m=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(b.customError("WebdDrop")),n=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(b.customError("BrowserReplacedDrop",!0,m)),o=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(b.customError("ConventionViolationDrop",!0,m)),p=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(b.customError("Server5xxDrop",!0,m)),q=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(b.customError("LogoutDrop",!0,m)),r=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(b.customError("EphemeralDrop",!0,m));function a(a,b){return a["catch"](function(a){d("WALogger").ERROR(h(),b).verbose().devConsole(a).sendLogs(b);throw a})}var s=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c,d){d=b.call(this,d)||this;d.gid=a;d.membershipApprovalMode=c;return d}return a}(b.customError("UnexpectedJoinGroupViaInviteResponse"));b=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){c=a.call(this,c)||this;c.membershipApprovalMode=b;return c}return b}(b.customError("UnexpectedJoinSubgroupResponse"));g.ServerStatusCodeError=c;g.CatalogEditServerError=e;g.E451=f;g.E401=i;g.E404=j;g.E499=k;g.E507=l;g.WebdDrop=m;g.BrowserReplacedDrop=n;g.ConventionViolationDrop=o;g.Server5xxDrop=p;g.LogoutDrop=q;g.EphemeralDrop=r;g.attachErrorLogger=a;g.UnexpectedJoinGroupViaInviteResponse=s;g.UnexpectedJoinSubgroupResponse=b}),98);
__d("WAWebTosJob",["WADeprecatedSendIq","WADeprecatedWapParser","WAWap","WAWebBackendErrors","asyncToGeneratorRuntime","gkx"],(function(a,b,c,d,e,f,g){var h=7200,i=259200,j=86400,k=new(c("WADeprecatedWapParser"))("tosNotices",function(a){a.assertTag("iq");a.assertFromServer();a=a.child("tos");var b={refresh:a.attrInt("refresh"),notice:[]};a.forEachChildWithTag("notice",function(a){var c=a.maybeAttrString("state")!=="false";a=a.attrString("id");b.notice.push({id:a,state:c})});(b.refresh>i||b.refresh<h)&&(b.refresh=j);return b});function a(a){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b;b=(b=d("WAWap")).wap("iq",{xmlns:"tos",id:b.generateId(),type:"get",to:b.S_WHATSAPP_NET},b.wap("request",null,a.map(function(a){return d("WAWap").wap("notice",{id:d("WAWap").CUSTOM_STRING(a)})})));a=(yield d("WADeprecatedSendIq").deprecatedSendIq(b,k));if(a.success)return a.result;throw new(d("WAWebBackendErrors").ServerStatusCodeError)(a.errorCode,a.errorText)});return l.apply(this,arguments)}function e(a){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(!c("gkx")("26258")){var b,e=new(c("WADeprecatedWapParser"))("tosNoticesDebug",function(){});b=(b=d("WAWap")).wap("iq",{xmlns:"tos",id:b.generateId(),type:"set",to:b.S_WHATSAPP_NET},b.wap("delete",{id:a}));yield d("WADeprecatedSendIq").deprecatedSendIq(b,e)}});return m.apply(this,arguments)}function f(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b,e=new(c("WADeprecatedWapParser"))("tosNoticesSet",function(){});b=(b=d("WAWap")).wap("iq",{xmlns:"tos",id:b.generateId(),type:"set",to:b.S_WHATSAPP_NET},b.wap("request",{type:"session_update"},a.map(function(a){return d("WAWap").wap("notice",{id:d("WAWap").CUSTOM_STRING(a)})})));yield d("WADeprecatedSendIq").deprecatedSendIq(b,e)});return n.apply(this,arguments)}g.DEFAULT_TOS_REFRESH_INTERVAL=j;g.queryTosState=a;g.deleteTosState=e;g.updateTosState=f}),98);
__d("WARetryPromise",["Promise","WAAbortError","WAErr"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e){return new(h||(h=b("Promise")))(function(f,g){var i=0,j,k=!1;if(e){var l=function a(){e.removeEventListener("abort",a),k=!0,j!=null&&clearTimeout(j),g(new(d("WAAbortError").AbortError)())};if(e.aborted){l();return}e.addEventListener("abort",l)}function m(){var d=!1,e=!1;j=null;try{var l=a({retry:function(a){if(k||e)return;d=!0;i++;if(a==null)return m();j=setTimeout(m,a)},failCount:i});if(!(l instanceof(h||(h=b("Promise")))))throw c("WAErr")("TypeError: task must return a promise");l.then(function(a){if(k||d)return;e=!0;f(a)})["catch"](function(a){if(k||d)return;e=!0;g(a)})}catch(a){if(k||d)return;g(a)}}m()})}g["default"]=a}),98);
__d("WARetryableError",["WACustomError"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,"see error at this.source")||this;c.source=b;return c}return b}(d("WACustomError").customError("RetryableError"));g["default"]=a}),98);
__d("WABackoff",["Promise","WARetryPromise","WARetryableError"],(function(a,b,c,d,e,f,g){"use strict";var h,i=Object.freeze({timeoutIncludesTaskDuration:!0});function a(a,d){a=babelHelpers["extends"]({},i,a);var e=a.signal,f=a.timeoutIterator,g=a.timeoutIncludesTaskDuration;return c("WARetryPromise")(function(a){var e=a.retry,i=a.failCount;return new(h||(h=b("Promise")))(function(a,j){var k=Date.now();try{d(l,i).then(a)["catch"](m)}catch(a){m(a);return}function l(a){return(h||(h=b("Promise"))).reject(new(c("WARetryableError"))(a))}function m(a){if(!(a instanceof c("WARetryableError")))return void j(a);var b=f.next();if(b.done)return void j(a.source);a=Date.now()-k;a=g?Math.max(b.value-a,0):b.value;e(a)}})},e)}g.defaults=i;g.backoff=a}),98);
__d("WAExponentialIterator",["regeneratorRuntime"],(function(a,b,c,d,e,f){"use strict";var g=b("regeneratorRuntime").mark(a);function a(a){var c;return b("regeneratorRuntime").wrap(function(b){while(1)switch(b.prev=b.next){case 0:c=1;case 1:b.next=4;return c;case 4:c*=a;b.next=1;break;case 7:case"end":return b.stop()}},g,this)}f["default"]=a}),66);
__d("WAExponentialBackoffIterator",["WAExponentialIterator","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h=b("regeneratorRuntime").mark(a),i={factor:2,jitter:0,maxTimeout:Infinity};function a(a){var d,e,f,g,j,k,l,m,n,o,p,q,r;return b("regeneratorRuntime").wrap(function(b){while(1)switch(b.prev=b.next){case 0:(d=babelHelpers["extends"]({},i,a),e=d.factor,f=d.jitter,g=d.maxTimeout,j=d.minTimeout,k=d.retries),l=0,(m=c("WAExponentialIterator")(e),n=Array.isArray(m),o=0,m=n?m:m[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]());case 3:if(!n){b.next=9;break}if(!(o>=m.length)){b.next=6;break}return b.abrupt("break",22);case 6:p=m[o++];b.next=13;break;case 9:o=m.next();if(!o.done){b.next=12;break}return b.abrupt("break",22);case 12:p=o.value;case 13:q=p;l++;if(!(l>k)){b.next=17;break}return b.abrupt("return");case 17:r=1+(Math.random()*f*2-f);b.next=20;return Math.min(j*q*r,g);case 20:b.next=3;break;case 22:case"end":return b.stop()}},h,this)}g.defaults=i;g.exponentialBackoffIterator=a}),98);
__d("WAExponentialBackoff",["WABackoff","WAExponentialBackoffIterator"],(function(a,b,c,d,e,f,g){"use strict";var h=babelHelpers["extends"]({},d("WAExponentialBackoffIterator").defaults,d("WABackoff").defaults);function a(a,b){a=babelHelpers["extends"]({},h,a);var c=a.signal,e=a.timeoutIncludesTaskDuration;a=babelHelpers.objectWithoutPropertiesLoose(a,["signal","timeoutIncludesTaskDuration"]);a=d("WAExponentialBackoffIterator").exponentialBackoffIterator(a);return d("WABackoff").backoff({signal:c,timeoutIterator:a,timeoutIncludesTaskDuration:e},b)}g.exponentialBackoff=a}),98);
__d("WAWebCTWAConstants",[],(function(a,b,c,d,e,f){a="11478";b="11525";c="11522";d="12015";e=new Map([[a,"WHATSAPP_FOR_SMB_WEB_WHATSAPP_SMB_WEB_CHATLIST_BANNER_QP"],[b,"WHATSAPP_FOR_WEB_GROUPSBANNER_QP"],[c,"WHATSAPP_FOR_WEB_PROFILEBANNER_QP"],[d,"WHATSAPP_FOR_SMB_WEB_BUSINESS_HOME_CARD_QP"]]);var g=20*1e3,h=20*1e3,i=20*1e3,j=20*1e3,k=Object.freeze({NEW_ORDER:2,PENDING_PAYMENT:3,PAID:4,ORDER_COMPLETE:5}),l=new Set(Object.keys(k).map(function(a){return k[a]}));f.QP_SURFACE_ID_CHAT_LIST_TOP=a;f.QP_SURFACE_ID_EXITED_GROUP=b;f.QP_SURFACE_ID_PROFILE=c;f.QP_SURFACE_BUSINESS_HOME_TOP_CARD=d;f.KNOWN_QP_SURFACES=e;f.QP_FETCH_TIMEOUT_MS=g;f.QP_ACTION_MUTATION_TIMEOUT_MS=h;f.MANAGE_ADS_FETCH_TIMEOUT_MS=i;f.AD_ENTRY_POINTS_FETCH_TIMEOUT_MS=j;f.ALLOWED_PREDEFINED_LABEL_IDS=k;f.ALLOWED_PREDEFINED_LABEL_IDS_SET=l}),66);
__d("WAWebComplianceConstants",[],(function(a,b,c,d,e,f){a={INDIA:"IN"};b={ENTITY_NAME:1024,ENTITY_TYPE_CUSTOM:1024,EMAIL:256,GRIEVANCE_OFFICER_NAME:256,LANDLINE_NUMBER:20,MOBILE_NUMBER:20,IMPORTER_NAME:1024,STREET1:1024,STREET2:1024,CITY:1024,REGION:1024,POSTAL_CODE:12};f.COMPLIANCE_INFO_CODES=a;f.COMPLIANCE_INFO_LENGTH=b}),66);
__d("WAWebInteractiveMessagesNativeFlowName",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({ORDER_DETAILS:"order_details",ORDER_STATUS:"order_status",PAYMENT_STATUS:"payment_status",PAYMENT_METHOD:"payment_method",MESSAGE_WITH_LINK:"message_with_link",MESSAGE_WITH_LINK_STATUS:"message_with_link_status",QUICK_REPLY:"quick_reply",CTA_CALL:"cta_call",CTA_URL:"cta_url",CTA_CATALOG:"cta_catalog",PAYMENT_INFO:"payment_info"});c=a;f["default"]=c}),66);
__d("WAWebL10NCountryCodes",[],(function(a,b,c,d,e,f){var g={1:{2:{0:{4:{c:"CA"}},2:{6:{c:"CA"}},3:{6:{c:"CA"}},4:{2:{c:"BS"},9:{c:"CA"}},5:{0:{c:"CA"}},6:{4:{c:"AI"},8:{c:"AG"}},8:{4:{c:"VG"},9:{c:"CA"}}},3:{0:{6:{c:"CA"}},4:{0:{c:"VI"},3:{c:"CA"},5:{c:"KY"}},6:{5:{c:"CA"},7:{c:"CA"}}},4:{0:{3:{c:"CA"}},1:{6:{c:"CA"},8:{c:"CA"}},3:{1:{c:"CA"},7:{c:"CA"},8:{c:"CA"}},4:{1:{c:"BM"}},5:{0:{c:"CA"}},7:{3:{c:"GD"}}},5:{0:{6:{c:"CA"}},1:{4:{c:"CA"},9:{c:"CA"}},4:{8:{c:"CA"}},7:{9:{c:"CA"}},8:{1:{c:"CA"},7:{c:"CA"}}},6:{0:{4:{c:"CA"}},1:{3:{c:"CA"}},3:{9:{c:"CA"}},4:{7:{c:"CA"},9:{c:"TC"}},5:{8:{c:"JM"}},6:{4:{c:"MS"}},7:{0:{c:"MP"},1:{c:"GU"},2:{c:"CA"}},8:{4:{c:"AS"}}},7:{0:{5:{c:"CA"},9:{c:"CA"}},2:{1:{c:"MF"}},5:{8:{c:"LC"}},6:{7:{c:"DM"}},7:{8:{c:"CA"}},8:{0:{c:"CA"},2:{c:"CA"},4:{c:"VC"},7:{c:"PR"}}},8:{0:{7:{c:"CA"},9:{c:"DO"}},1:{9:{c:"CA"}},2:{5:{c:"CA"},9:{c:"DO"}},4:{9:{c:"DO"}},6:{7:{c:"CA"},8:{c:"TT"},9:{c:"KN"}},7:{3:{c:"CA"},6:{c:"JM"}}},9:{0:{2:{c:"CA"},5:{c:"CA"}},3:{9:{c:"PR"}}}},2:{0:{c:"EG"},1:{1:{c:"SS"},2:{c:"MA"},3:{c:"DZ"},6:{c:"TN"},8:{c:"LY"}},2:{0:{c:"GM"},1:{c:"SN"},2:{c:"MR"},3:{c:"ML"},4:{c:"GN"},5:{c:"CI"},6:{c:"BF"},7:{c:"NE"},8:{c:"TG"},9:{c:"BJ"}},3:{0:{c:"MU"},1:{c:"LR"},2:{c:"SL"},3:{c:"GH"},4:{c:"NG"},5:{c:"TD"},6:{c:"CF"},7:{c:"CM"},8:{c:"CV"},9:{c:"ST"}},4:{0:{c:"GQ"},1:{c:"GA"},2:{c:"CG"},3:{c:"CD"},4:{c:"AO"},5:{c:"GW"},6:{c:"IO"},7:{c:"AC"},8:{c:"SC"},9:{c:"SD"}},5:{0:{c:"RW"},1:{c:"ET"},2:{c:"SO"},3:{c:"DJ"},4:{c:"KE"},5:{c:"TZ"},6:{c:"UG"},7:{c:"BI"},8:{c:"MZ"}},6:{0:{c:"ZM"},1:{c:"MG"},2:{c:"RE"},3:{c:"ZW"},4:{c:"NA"},5:{c:"MW"},6:{c:"LS"},7:{c:"BW"},8:{c:"SZ"},9:{c:"KM"}},7:{c:"ZA"},9:{0:{c:"SH"},1:{c:"ER"},7:{c:"AW"},8:{c:"FO"},9:{c:"GL"}}},3:{0:{c:"GR"},1:{c:"NL"},2:{c:"BE"},3:{c:"FR"},4:{c:"ES"},5:{0:{c:"GI"},1:{c:"PT"},2:{c:"LU"},3:{c:"IE"},4:{c:"IS"},5:{c:"AL"},6:{c:"MT"},7:{c:"CY"},8:{c:"FI"},9:{c:"BG"}},6:{c:"HU"},7:{0:{c:"LT"},1:{c:"LV"},2:{c:"EE"},3:{c:"MD"},4:{c:"AM"},5:{c:"BY"},6:{c:"AD"},7:{c:"MC"},8:{c:"SM"}},8:{0:{c:"UA"},1:{c:"RS"},2:{c:"ME"},3:{c:"XK"},5:{c:"HR"},6:{c:"SI"},7:{c:"BA"},9:{c:"MK"}},9:{c:"IT"}},4:{0:{c:"RO"},1:{c:"CH"},2:{0:{c:"CZ"},1:{c:"SK"},3:{c:"LI"}},3:{c:"AT"},4:{c:"GB"},5:{c:"DK"},6:{c:"SE"},7:{c:"NO"},8:{c:"PL"},9:{c:"DE"}},5:{0:{0:{c:"FK"},1:{c:"BZ"},2:{c:"GT"},3:{c:"SV"},4:{c:"HN"},5:{c:"NI"},6:{c:"CR"},7:{c:"PA"},8:{c:"PM"},9:{c:"HT"}},1:{c:"PE"},2:{c:"MX"},3:{c:"CU"},4:{c:"AR"},5:{c:"BR"},6:{c:"CL"},7:{c:"CO"},8:{c:"VE"},9:{0:{c:"GP"},1:{c:"BO"},2:{c:"GY"},3:{c:"EC"},4:{c:"GF"},5:{c:"PY"},6:{c:"MQ"},7:{c:"SR"},8:{c:"UY"},9:{c:"CW"}}},6:{0:{c:"MY"},1:{c:"AU"},2:{c:"ID"},3:{c:"PH"},4:{c:"NZ"},5:{c:"SG"},6:{c:"TH"},7:{0:{c:"TL"},2:{c:"NF"},3:{c:"BN"},4:{c:"NR"},5:{c:"PG"},6:{c:"TO"},7:{c:"SB"},8:{c:"VU"},9:{c:"FJ"}},8:{0:{c:"PW"},1:{c:"WF"},2:{c:"CK"},3:{c:"NU"},5:{c:"WS"},6:{c:"KI"},7:{c:"NC"},8:{c:"TV"},9:{c:"PF"}},9:{0:{c:"TK"},1:{c:"FM"},2:{c:"MH"}}},7:{c:"RU"},8:{1:{c:"JP"},2:{c:"KR"},4:{c:"VN"},5:{0:{c:"KP"},2:{c:"HK"},3:{c:"MO"},5:{c:"KH"},6:{c:"LA"}},6:{c:"CN"},8:{0:{c:"BD"},6:{c:"TW"}}},9:{0:{c:"TR"},1:{c:"IN"},2:{c:"PK"},3:{c:"AF"},4:{c:"LK"},5:{c:"MM"},6:{0:{c:"MV"},1:{c:"LB"},2:{c:"JO"},3:{c:"SY"},4:{c:"IQ"},5:{c:"KW"},6:{c:"SA"},7:{c:"YE"},8:{c:"OM"}},7:{0:{c:"PS"},1:{c:"AE"},2:{c:"IL"},3:{c:"BH"},4:{c:"QA"},5:{c:"BT"},6:{c:"MN"},7:{c:"NP"}},8:{c:"IR"},9:{2:{c:"TJ"},3:{c:"TM"},4:{c:"AZ"},5:{c:"GE"},6:{c:"KG"},8:{c:"UZ"}}}};function h(a,b){if(a!=null&&a.length>0&&b!=null){b=b[a[0]];a=a;while(a.length>0&&b){if(b.c)return b.c;a=a.substr(1,a.length-1);b=b[a[0]]}}return""}function a(a){if(a==null||a.length===0)return"";var b=h(a,g);if(b===""&&a[0]==="1")return"US";return b==="RU"&&["6","7"].includes(a[1])?"KZ":b}f.getCountryShortcodeByPhone=a}),66);
__d("WAWebBizGatingUtils",["$InternalEnum","WALogger","WAWebABProps","WAWebApiContact","WAWebBusinessProfileTypes","WAWebCTWAConstants","WAWebClientFeatureFlags","WAWebComplianceConstants","WAWebInteractiveMessagesNativeFlowName","WAWebL10NCountryCodes","WAWebMobilePlatforms","WAWebMsgGetters","WAWebPrimaryFeatures","WAWebServerPropsModel","WAWebUserPrefsMeUser","WAWebWidFactory"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["qpSurfaceIdsUsingGraphQL: unknown surface ID ",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["isOrderDetailsQuickPayEnabled failed to parse config json: error ",""]);i=function(){return a};return a}function a(){return d("WAWebMobilePlatforms").isSMB()}function e(){return d("WAWebMobilePlatforms").isSMB()}function j(){return d("WAWebMobilePlatforms").isSMB()}function f(a){return!a.isNewsletter&&j()&&!((a=a.contact.businessProfile)==null?void 0:a.isBizBot3p)}function k(){return d("WAWebABProps").getABPropConfigValue("business_profile_refresh_m1_enabled")}function l(){return d("WAWebABProps").getABPropConfigValue("smb_collections_enabled")}function m(){return d("WAWebABProps").getABPropConfigValue("smb_collections_appeal_flow_enabled")}function n(){return d("WAWebABProps").getABPropConfigValue("nfm_rendering_enabled")}function o(){return!d("WAWebABProps").getABPropConfigValue("interactive_message_native_flow_killswitch")}function p(){return!d("WAWebABProps").getABPropConfigValue("interactive_response_message_killswitch")}function q(){return!d("WAWebABProps").getABPropConfigValue("interactive_response_message_native_flow_killswitch")}function r(a){var b;if(a!=null){var c;b=a.isLid()?(c=d("WAWebApiContact").getPhoneNumber(d("WAWebWidFactory").toUserWid(a)))==null?void 0:c.user:a.user;if(a.isLid()&&b==null)return!0}return v(b)}function s(a){return z(a,function(){return d("WAWebABProps").getABPropConfigValue("smb_ecommerce_compliance_india_m4")},function(){return d("WAWebServerPropsModel").ServerProps.smbEcommerceComplianceIndiaM4})}function t(a){return z(a,function(){return d("WAWebABProps").getABPropConfigValue("smb_ecommerce_compliance_india_m4_5")},function(){return d("WAWebServerPropsModel").ServerProps.smbEcommerceComplianceIndiaM4_5})}function u(a){var b=z(a==null?void 0:a.id,function(){return d("WAWebABProps").getABPropConfigValue("web_abprop_block_catalog_creation_ecommerce_compliance_india")},function(){return d("WAWebServerPropsModel").ServerProps.blockCatalogCreationEcommerceComplianceIndia});return b&&(a==null?void 0:(b=a.profileOptions)==null?void 0:b.commerceExperience)===d("WAWebBusinessProfileTypes").CommerceExperienceTypes.NONE}function v(a){a=d("WAWebL10NCountryCodes").getCountryShortcodeByPhone(a||"");var b=d("WAWebComplianceConstants").COMPLIANCE_INFO_CODES.INDIA;return a===b||d("WAWebClientFeatureFlags").isFeatureEnabled("skip_compliance_phone_check")}function w(a){a=d("WAWebL10NCountryCodes").getCountryShortcodeByPhone(a||"");return a==="BR"}function x(a){var b;if(!a)return!1;b=a.isLid()?(b=d("WAWebApiContact").getPhoneNumber(d("WAWebWidFactory").toUserWid(a)))==null?void 0:b.user:a.user;return b==null?!1:v(b)||w(b)}function y(){return d("WAWebMobilePlatforms").isSMB()&&d("WAWebABProps").getABPropConfigValue("web_business_tools_drawer_enabled")}function z(a,b,c){b===void 0&&(b=function(){return!1});c===void 0&&(function(){return!1});var e;if(a!=null){e=a.isLid()?(c=d("WAWebApiContact").getPhoneNumber(d("WAWebWidFactory").toUserWid(a)))==null?void 0:c.user:a.user;if(a.isLid()&&e==null)return!0}return!v(e)?!1:b()}function A(){return!d("WAWebMobilePlatforms").isSMB()?d("WAWebABProps").getABPropConfigValue("tos_3_client_gating_enabled"):!1}function B(){return d("WAWebABProps").getABPropConfigValue("tos_client_state_fetch_iteration")}function C(){return!d("WAWebMobilePlatforms").isSMB()?d("WAWebABProps").getABPropConfigValue("tos_client_state_fetch_enabled"):!1}function D(){return d("WAWebABProps").getABPropConfigValue("web_shop_storefront_message")}function E(){return d("WAWebABProps").getABPropConfigValue("banned_shops_ux_enabled")}function F(){return d("WAWebMobilePlatforms").isSMB()?d("WAWebABProps").getABPropConfigValue("smb_click_to_chat_logging_enabled"):!1}function G(){return d("WAWebMobilePlatforms").isSMB()?d("WAWebABProps").getABPropConfigValue("smb_biz_profile_logging_enabled"):!1}function H(){return d("WAWebABProps").getABPropConfigValue("web_abprop_business_profile_refresh_linked_accounts_killswitch")}function I(){return d("WAWebABProps").getABPropConfigValue("web_abprop_business_profile_refresh_linked_account_enabled")}function J(){return d("WAWebABProps").getABPropConfigValue("commerce_sanctioned")}function K(){return d("WAWebABProps").getABPropConfigValue("web_abprop_business_profile_refresh_edit_cover_photo_enabled")}function L(){return d("WAWebABProps").getABPropConfigValue("web_abprop_business_profile_refresh_cover_photo_view_enabled")}function M(){return d("WAWebABProps").getABPropConfigValue("message_quick_reply")}function N(){return d("WAWebABProps").getABPropConfigValue("catalog_categories_enabled")}var O=b("$InternalEnum")({DIGITAL_GOODS:"digital-goods",PHYSICAL_GOODS:"physical-goods",ANY:"any",NONE:"none"});function P(a){a===void 0&&(a=O.NONE);try{var b=JSON.parse(d("WAWebABProps").getABPropConfigValue("order_details_quick_pay"));b=b.allowed_product_type;if(b&&b!==O.NONE)return b===O.ANY||b===a}catch(a){d("WALogger").WARN(i(),a)}return!1}function Q(){return d("WAWebMobilePlatforms").isSMB()&&d("WAWebABProps").getABPropConfigValue("smb_billing_enabled")}function R(){return d("WAWebABProps").getABPropConfigValue("web_enable_biz_catalog_view_ps_logging")}function aa(){return d("WAWebMobilePlatforms").isSMB()&&d("WAWebABProps").getABPropConfigValue("smart_filters_enabled")||!d("WAWebMobilePlatforms").isSMB()&&d("WAWebABProps").getABPropConfigValue("smart_filters_enabled_consumer")}function S(){return d("WAWebMobilePlatforms").isSMB()&&d("WAWebABProps").getABPropConfigValue("smb_multi_device_message_attribution_enabled")}b=function(){return d("WAWebABProps").getABPropConfigValue("order_messages_ephemeral_exception_enabled")};function ba(){return S()&&d("WAWebABProps").getABPropConfigValue("smb_multi_device_agents_logging_V2_enabled")}function ca(){return!d("WAWebMobilePlatforms").isSMB()?!1:d("WAWebABProps").getABPropConfigValue("smb_orange_enabled")}function da(){return!d("WAWebMobilePlatforms").isSMB()?!1:d("WAWebABProps").getABPropConfigValue("smb_dcp_enabled")}function ea(){return d("WAWebABProps").getABPropConfigValue("native_commerce_threads_logging_enabled")}function fa(){return d("WAWebABProps").getABPropConfigValue("smb_biz_profile_custom_url")}function ga(){return d("WAWebABProps").getABPropConfigValue("web_quantity_controls_enabled")}function ha(){return d("WAWebMobilePlatforms").isSMB()&&d("WAWebPrimaryFeatures").primaryFeatureEnabled("companion_biz_quick_reply_sync_support")&&d("WAWebABProps").getABPropConfigValue("web_quick_reply_authoring")}function ia(){return d("WAWebABProps").getABPropConfigValue("smb_catalog_collections_reordering_enabled")}function ja(){return d("WAWebABProps").getABPropConfigValue("smb_temp_cover_photo_privacy_messaging")}function T(){return d("WAWebMobilePlatforms").isSMB()&&d("WAWebABProps").getABPropConfigValue("smb_md_agent_chat_assignment_enabled")}function ka(){return T()&&d("WAWebABProps").getABPropConfigValue("smb_md_agent_chat_assignment_system_messages_enabled")}function la(){return!T()?0:d("WAWebABProps").getABPropConfigValue("smb_md_agent_chat_assignment_nux_impressions")}function ma(){return d("WAWebABProps").getABPropConfigValue("smb_hide_unsupported_currency_price")}function na(){return d("WAWebABProps").getABPropConfigValue("graphql_privacy_imp_m1")}function oa(){return d("WAWebABProps").getABPropConfigValue("graphql_privacy_imp_m2")}function pa(){return!d("WAWebMobilePlatforms").isSMB()?"{}":d("WAWebABProps").getABPropConfigValue("smb_billing_premium_access_config")}function qa(){return d("WAWebABProps").getABPropConfigValue("country_client_gating_enabled")}function ra(){return d("WAWebABProps").getABPropConfigValue("order_details_custom_item_enabled")}function sa(){return d("WAWebABProps").getABPropConfigValue("order_details_from_catalog_enabled")}function ta(){return d("WAWebABProps").getABPropConfigValue("order_details_from_cart_enabled")}function ua(){return d("WAWebABProps").getABPropConfigValue("order_details_total_order_minimum_value")}function va(a){return Z(a)?5e3:d("WAWebABProps").getABPropConfigValue("order_details_total_maximum_value")}function wa(){return d("WAWebABProps").getABPropConfigValue("order_management_enabled")}function xa(){return d("WAWebABProps").getABPropConfigValue("btm_threads_logging_enabled")}function ya(a){return a?d("WAWebABProps").getABPropConfigValue("smb_md_agent_chat_assignment_chats_reorder_on_chat_unassignment_enabled"):d("WAWebABProps").getABPropConfigValue("smb_md_agent_chat_assignment_chats_reorder_on_chat_assignment_enabled")}function za(){return d("WAWebABProps").getABPropConfigValue("utm_tracking_expiration_hours")}function Aa(){return d("WAWebABProps").getABPropConfigValue("utm_tracking_enabled")}function Ba(){return d("WAWebABProps").getABPropConfigValue("wa_ctwa_web_thread_ad_attribution_enabled")}function Ca(){return d("WAWebABProps").getABPropConfigValue("ctwa_consumer_data_sharing_consent")}function Da(){return d("WAWebMobilePlatforms").isSMB()&&d("WAWebABProps").getABPropConfigValue("ctwa_smb_data_sharing_consent")}function Ea(){return d("WAWebABProps").getABPropConfigValue("ctwa_smb_data_sharing_opt_in_cool_off_period")}function Fa(){return d("WAWebABProps").getABPropConfigValue("smb_md_agent_chat_assignment_notifications_enabled")}function Ga(){return d("WAWebABProps").getABPropConfigValue("smb_md_agent_chat_assignment_chat_list_new_label_enabled")}function U(){return d("WAWebMobilePlatforms").isSMB()&&d("WAWebABProps").getABPropConfigValue("wa_ctwa_ads_action_banner_enabled_web")}function Ha(){return d("WAWebMobilePlatforms").isSMB()&&d("WAWebABProps").getABPropConfigValue("wa_ctwa_action_banner_logging_enabled_web")}function Ia(){return U()&&d("WAWebABProps").getABPropConfigValue("in_app_comms_manage_ads_web_banner_campaign_enabled")}function Ja(){return d("WAWebMobilePlatforms").isSMB()||d("WAWebABProps").getABPropConfigValue("quick_promotion_banner_client_consumer_enabled")}function Ka(){return d("WAWebMobilePlatforms").isSMB()&&d("WAWebABProps").getABPropConfigValue("qp_campaign_client_enabled")}function La(){return d("WAWebMobilePlatforms").isSMB()&&d("WAWebABProps").getABPropConfigValue("smb_graphql_to_fetch_qp_enabled")}function Ma(){return d("WAWebABProps").getABPropConfigValue("smb_graphql_to_fetch_qp_frequency_mins")}function Na(){var a=d("WAWebABProps").getABPropConfigValue("smb_graphql_to_fetch_qp_surface_ids"),b=new Map(Array.from(d("WAWebCTWAConstants").KNOWN_QP_SURFACES.values(),function(a){return[a,a]})),c=new Set();a.split(",").forEach(function(a){var e=b.get(a);e!=null?c.add(e):d("WALogger").ERROR(h(),a)});return c}var Oa=function(){return d("WAWebMobilePlatforms").isSMB()&&d("WAWebABProps").getABPropConfigValue("wa_ctwa_web_entrypoint_home_header_enabled")},Pa=function(){return d("WAWebMobilePlatforms").isSMB()&&d("WAWebABProps").getABPropConfigValue("wa_ctwa_web_entrypoint_home_header_dropdown_enabled")};function V(){return d("WAWebMobilePlatforms").isSMB()&&d("WAWebABProps").getABPropConfigValue("kill_switch_ctwa_ml_entry_point_config")===!1}function Qa(){return d("WAWebABProps").getABPropConfigValue("ctwa_entry_point_config_fetch_threshhold")}function Ra(){return V()&&d("WAWebABProps").getABPropConfigValue("ctwa_long_term_holdout_content_enabled")}var Sa=function(a){return d("WAWebMobilePlatforms").isSMB()&&(a==null?void 0:a.hasCreatedAd)===!0&&d("WAWebABProps").getABPropConfigValue("wa_ctwa_web_entrypoint_manage_ads_home_header_dropdown_enabled")},Ta=function(){return d("WAWebMobilePlatforms").isSMB()&&d("WAWebABProps").getABPropConfigValue("wa_ctwa_web_fetch_linked_accounts_enabled")};function W(){return d("WAWebMobilePlatforms").isSMB()&&d("WAWebABProps").getABPropConfigValue("ctwa_manage_ads_tab_web")}function Ua(){return W()&&d("WAWebABProps").getABPropConfigValue("ctwa_manage_ads_tab_web_ad_actions_menu")}function Va(){return W()&&d("WAWebABProps").getABPropConfigValue("ctwa_manage_ads_tab_web_ad_metrics")}function Wa(){return W()&&d("WAWebABProps").getABPropConfigValue("ctwa_manage_ads_tab_web_recovery_flow")}function Xa(){return d("WAWebMobilePlatforms").isSMB()&&d("WAWebABProps").getABPropConfigValue("ctwa_ad_account_token_storage_kill_switch_web")===!1}function Ya(){return d("WAWebABProps").getABPropConfigValue("smb_premium_messages_spam_report_enabled")}function Za(){return d("WAWebMobilePlatforms").isSMB()&&d("WAWebABProps").getABPropConfigValue("business_tool_enhanced_logging")}function $a(){return d("WAWebMobilePlatforms").isSMB()&&d("WAWebABProps").getABPropConfigValue("smb_labels_ctwa_data_sharing")}function ab(){return d("WAWebMobilePlatforms").isSMB()&&X()}function X(){return d("WAWebABProps").getABPropConfigValue("payments_br_content_optimization_variant")!==0}function bb(){return d("WAWebMobilePlatforms").isSMB()&&d("WAWebABProps").getABPropConfigValue("ctwa_smb_data_sharing_settings_killswitch")===!1}function cb(){return d("WAWebMobilePlatforms").isSMB()&&d("WAWebABProps").getABPropConfigValue("smb_message_labels_ctwa_data_sharing")}function db(){return d("WAWebABProps").getABPropConfigValue("payments_link_to_lite_consumer_enabled")}function eb(a,b,e){if(d("WAWebMsgGetters").isBizSourceFromMarketingMessage(e))return d("WAWebABProps").getABPropConfigValue("web_premium_messages_interactivity_rendering_enabled");else if(e==="quoted_carousel_card"&&a===c("WAWebInteractiveMessagesNativeFlowName").QUICK_REPLY)return $();return b===!0?d("WAWebABProps").getABPropConfigValue("web_premium_messages_interactivity_rendering_enabled"):!1}function fb(){return d("WAWebABProps").getABPropConfigValue("smb_premium_messages_click_logging_enabled")}function Y(){return d("WAWebABProps").getABPropConfigValue("row_buyer_order_revamp_m0_enabled")}function gb(){return d("WAWebABProps").getABPropConfigValue("seller_orders_management_revamp")}function hb(){return Y()&&d("WAWebABProps").getABPropConfigValue("buyer_initiated_order_request_variant_enabled")}function ib(){return d("WAWebABProps").getABPropConfigValue("order_statuses_revamp_m1_enabled")}function jb(){return d("WAWebABProps").getABPropConfigValue("smb_premium_messages_url_cta_alert_dialog_enabled")}function Z(a){var b=d("WAWebUserPrefsMeUser").getMeUser();b=d("WAWebL10NCountryCodes").getCountryShortcodeByPhone(b.user);a=d("WAWebL10NCountryCodes").getCountryShortcodeByPhone(a.contact.id.user);return b==="BR"&&a==="BR"}function $(){return d("WAWebABProps").getABPropConfigValue("carousel_message_client_enabled")}function kb(){return d("WAWebMobilePlatforms").isSMB()&&d("WAWebPrimaryFeatures").primaryFeatureEnabled("companion_biz_label_sync_support")&&d("WAWebABProps").getABPropConfigValue("web_labels_editing_enabled")}function lb(){return d("WAWebMobilePlatforms").isSMB()&&d("WAWebABProps").getABPropConfigValue("smb_label_improvements_reordering")}function mb(){return d("WAWebMobilePlatforms").isSMB()&&d("WAWebABProps").getABPropConfigValue("smb_label_improvements_reordering")&&d("WAWebABProps").getABPropConfigValue("web_smb_label_reordering_m2_two_way")}function nb(){return d("WAWebMobilePlatforms").isSMB()&&d("WAWebABProps").getABPropConfigValue("ctwa_3pd_conversion_signal_logging")}function ob(){return d("WAWebMobilePlatforms").isSMB()&&d("WAWebABProps").getABPropConfigValue("smba_premium_messages_leaving_wa_content")}function pb(){return d("WAWebABProps").getABPropConfigValue("smba_premium_messages_insights_v2_trackable_link_domain")}function qb(){return d("WAWebMobilePlatforms").isSMB()&&d("WAWebABProps").getABPropConfigValue("smb_notes_v1_enabled")}function rb(){return d("WAWebMobilePlatforms").isSMB()&&d("WAWebABProps").getABPropConfigValue("wa_web_business_tools_top_card_enabled")}g.canDisplayLabel=a;g.canEditLabelAssociation=e;g.canSendQuickReply=j;g.canSendQuickReplyInChat=f;g.canSeeBizProfileV3=k;g.canManageCollections=l;g.canAppealCollections=m;g.nativeFlowMessagesEnabled=n;g.interactiveNativeFlowMessagesEnabled=o;g.interactiveResponseMessagesEnabled=p;g.interactiveNativeFlowResponseMessagesEnabled=q;g.canSeeECommerceComplianceIndiaSoftEnforcement=r;g.canSeeECommerceComplianceIndiaHardEnforcementBusinessJourney=s;g.canSeeECommerceComplianceIndiaCountryOriginExemptBusinessJourney=t;g.blockCatalogCreationECommerceComplianceIndia=u;g.isWidInPaymentsCountry=x;g.isBizToolsDrawerEnabled=y;g.tos3GatingEnabled=A;g.tosFetchIteration=B;g.tosFetchEnabled=C;g.shopsInteractiveMessageEnabled=D;g.bannedShopsEnabled=E;g.smbClickToChatLoggingEnabled=F;g.smbBizProfileLoggingEnabled=G;g.bizLinkedAccountsEnabled=H;g.canViewBizLinkedAccounts=I;g.commerceFeaturesDisabledBySanctions=J;g.isBizCoverPhotoEditEnabled=K;g.isBizCoverPhotoViewEnabled=L;g.messageQuickReplyEnabled=M;g.catalogCategoriesEnabled=N;g.QuickPayProductTypeGating=O;g.isOrderDetailsQuickPayEnabled=P;g.billingEnabled=Q;g.isPSForCatalogViewEnabled=R;g.smartFiltersEnabled=aa;g.isMultiDeviceMessageAttributionEnabled=S;g.inOrderMessagesEphemeralExceptionEnabled=b;g.isMultiDeviceAgentsLoggingEnabled=ba;g.isSmbOrangeEnabled=ca;g.subscriptionFetchEnabled=da;g.commerceThreadsLoggingEnabled=ea;g.isCustomURLViaBizProfileEnabled=fa;g.isQuantityControlsFeatureEnabled=ga;g.quickRepliesManagementEnabled=ha;g.isCollectionReorderingEnabled=ia;g.coverPhotoPrivacyMessagingEnabled=ja;g.chatAssignmentEnabled=T;g.chatAssignmentSystemMessagesEnabled=ka;g.chatAssignmentMaxNuxImpressions=la;g.hideUnsupportedCurrency=ma;g.graphQLForCatalogM1Enabled=na;g.graphQLForCollectionM2Enabled=oa;g.getBillingPremiumAccessConfig=pa;g.countryGatingEnabled=qa;g.orderDetailsCustomItemEnabled=ra;g.orderDetailsFromCatalogEnabled=sa;g.orderDetailsFromCartEnabled=ta;g.orderDetailsTotalOrderMinimumValue=ua;g.orderDetailsTotalMaxValue=va;g.orderManagementEnabled=wa;g.btmThreadsLoggingEnabled=xa;g.shouldReorderChatOnAssignment=ya;g.utmTrackingExpirationInHours=za;g.isUtmTrackingEnabled=Aa;g.isAdsAttributionEnabled=Ba;g.isConsumerTransparencyEnabled=Ca;g.smbDataSharingConsentEnabled=Da;g.smbDataSharingOptInCoolOffSeconds=Ea;g.chatAssignmentNotificationsEnabled=Fa;g.chatAssignmentNewChatlistLabelEnabled=Ga;g.adsActionBannersEnabled=U;g.adsActionBannersLoggingEnabled=Ha;g.adsActionBannersEnabledOnStartup=d("WAWebMobilePlatforms").isSMB;g.adsActionManageAdsBannerEnabled=Ia;g.qpSDKProcessingEnabled=Ja;g.qpCampaignsEnabled=Ka;g.qpGraphQLEnabled=La;g.qpGraphQLFetchIntervalMinutes=Ma;g.qpSurfaceIdsUsingGraphQL=Na;g.shouldShowAdCreationIcon=Oa;g.shouldShowAdCreationDropdown=Pa;g.adEntryPointsConfigurationFetchEnabled=V;g.adEntryPointsConfigurationFetchThreshold=Qa;g.adEntryPointsConfigurationFetchM1Enabled=Ra;g.shouldShowManageAdsDropdown=Sa;g.shouldFetchLinkedAccounts=Ta;g.adManagementEnabled=W;g.adManagementActionsDisplayingEnabled=Ua;g.adManagementMetricsDisplayingEnabled=Va;g.adManagementRecoveryFlowEnabled=Wa;g.adAccountTokenStoringEnabled=Xa;g.isSMBMMSpamReportEnabled=Ya;g.isSMBEnhancedLoggingEnabled=Za;g.isSMBLabelsDataSharingEnabledForChats=$a;g.isSMBDataSharingOrderCopyOptimizationEnabled=ab;g.isOrderContentOptimizationEnabled=X;g.shouldShowSMBDataSharingSettings=bb;g.isSMBLabelsDataSharingEnabledForMessages=cb;g.isMessageWithLinkNfmEnabled=db;g.isInteractiveCtaMessageEnabled=eb;g.isPremiumMessagesClickLoggingEnabled=fb;g.isBuyerOrderRevampEnabled=Y;g.isSellerOrderRevampEnabled=gb;g.isBuyerOrderRequestVariantEnabled=hb;g.isOrderStatusM1Enabled=ib;g.isPremiumMessagesUrlCtaDialogEnabled=jb;g.isBrazilToBrazilOrder=Z;g.carouselsEnabled=$;g.labelsEditingEnabled=kb;g.isLabelReorderingSyncFromPrimaryEnabled=lb;g.isLabelReorderingInWebEnabled=mb;g.is3pdConversionEnabled=nb;g.isPremiumMessagesNewLeavingWAContentEnabled=ob;g.getTrackableLinkDomain=pb;g.smbNotesV1Enabled=qb;g.isBizToolsTopCardEnabled=rb}),98);
__d("WAWebProtobufsUserPassword.pb",["$InternalEnum","WAProtoConst"],(function(a,b,c,d,e,f,g){a=b("$InternalEnum")({NONE:0,PBKDF2_HMAC_SHA512:1,PBKDF2_HMAC_SHA384:2});c=b("$InternalEnum")({UTF8:0});e={};f={};b={};e.internalSpec={encoding:[1,(d=d("WAProtoConst")).TYPES.ENUM,c],transformer:[2,d.TYPES.ENUM,a],transformerArg:[3,d.FLAGS.REPEATED|d.TYPES.MESSAGE,f],transformedData:[4,d.TYPES.BYTES]};f.internalSpec={key:[1,d.TYPES.STRING],value:[2,d.TYPES.MESSAGE,b]};b.internalSpec={asBlob:[1,d.TYPES.BYTES],asUnsignedInteger:[2,d.TYPES.UINT32],__oneofs__:{value:["asBlob","asUnsignedInteger"]}};g.UserPassword$Transformer=a;g.UserPassword$Encoding=c;g.UserPasswordSpec=e;g.UserPassword$TransformerArgSpec=f;g.UserPassword$TransformerArg$ValueSpec=b}),98);
__d("WAWebProtobufsChatLockSettings.pb",["WAProtoConst","WAWebProtobufsUserPassword.pb"],(function(a,b,c,d,e,f,g){a={};a.internalSpec={hideLockedChats:[1,d("WAProtoConst").TYPES.BOOL],secretCode:[2,d("WAProtoConst").TYPES.MESSAGE,d("WAWebProtobufsUserPassword.pb").UserPasswordSpec]};g.ChatLockSettingsSpec=a}),98);
__d("WAWebProtobufsDeviceCapabilities.pb",["$InternalEnum","WAProtoConst"],(function(a,b,c,d,e,f,g){a=b("$InternalEnum")({NONE:0,MINIMAL:1,FULL:2});c={};c.internalSpec={chatLockSupportLevel:[1,d("WAProtoConst").TYPES.ENUM,a]};g.DeviceCapabilities$ChatLockSupportLevel=a;g.DeviceCapabilitiesSpec=c}),98);
__d("WAWebProtobufSyncAction.pb",["$InternalEnum","WAProtoConst","WAWebProtobufsChatLockSettings.pb","WAWebProtobufsDeviceCapabilities.pb","WAWebProtobufsProtocol.pb"],(function(a,b,c,d,e,f,g){var h;c=(a=b("$InternalEnum"))({REGULAR:0,SCHEDULED_CALL:1,VOICE_CHAT:2});e=a({NONE:0,SCHEDULED:1,PRIVACY:2,LIGHTWEIGHT:3});f=a({CONNECTED:0,REJECTED:1,CANCELLED:2,ACCEPTEDELSEWHERE:3,MISSED:4,INVALID:5,UNAVAILABLE:6,UPCOMING:7,FAILED:8,ABANDONED:9,ONGOING:10});b=a({UNSTRUCTURED:1,STRUCTURED:2});var aa=a({ALLOW_LIST:0,DENY_LIST:1,CONTACTS:2}),ba=a({PERSONALIZED:0});a=a({ANDROID:0,SMBA:1,IPHONE:2,SMBI:3,WEB:4,UWP:5,DARWIN:6});var i={},j={},k={},l={},m={},n={},o={},p={},q={},r={},s={},t={},u={},v={},w={},x={},y={},z={},A={},B={},C={},D={},E={},F={},G={},H={},I={},J={},K={},L={},M={},N={},O={},P={},Q={},R={},S={},T={},U={},V={},W={},X={},Y={},Z={},$={},ca={},da={},ea={},fa={},ga={},ha={},ia={},ja={},ka={},la={},ma={};i.internalSpec={emoji:[1,(h=d("WAProtoConst")).TYPES.STRING],weight:[2,h.TYPES.FLOAT]};j.internalSpec={callResult:[1,h.TYPES.ENUM,f],isDndMode:[2,h.TYPES.BOOL],silenceReason:[3,h.TYPES.ENUM,e],duration:[4,h.TYPES.INT64],startTime:[5,h.TYPES.INT64],isIncoming:[6,h.TYPES.BOOL],isVideo:[7,h.TYPES.BOOL],isCallLink:[8,h.TYPES.BOOL],callLinkToken:[9,h.TYPES.STRING],scheduledCallId:[10,h.TYPES.STRING],callId:[11,h.TYPES.STRING],callCreatorJid:[12,h.TYPES.STRING],groupJid:[13,h.TYPES.STRING],participants:[14,h.FLAGS.REPEATED|h.TYPES.MESSAGE,k],callType:[15,h.TYPES.ENUM,c]};k.internalSpec={userJid:[1,h.TYPES.STRING],callResult:[2,h.TYPES.ENUM,f]};l.internalSpec={timestamp:[1,h.TYPES.INT64],starAction:[2,h.TYPES.MESSAGE,ka],contactAction:[3,h.TYPES.MESSAGE,ja],muteAction:[4,h.TYPES.MESSAGE,ia],pinAction:[5,h.TYPES.MESSAGE,ha],securityNotificationSetting:[6,h.TYPES.MESSAGE,ga],pushNameSetting:[7,h.TYPES.MESSAGE,fa],quickReplyAction:[8,h.TYPES.MESSAGE,da],recentEmojiWeightsAction:[11,h.TYPES.MESSAGE,Z],labelEditAction:[14,h.TYPES.MESSAGE,$],labelAssociationAction:[15,h.TYPES.MESSAGE,ca],localeSetting:[16,h.TYPES.MESSAGE,ea],archiveChatAction:[17,h.TYPES.MESSAGE,Y],deleteMessageForMeAction:[18,h.TYPES.MESSAGE,X],keyExpiration:[19,h.TYPES.MESSAGE,Q],markChatAsReadAction:[20,h.TYPES.MESSAGE,W],clearChatAction:[21,h.TYPES.MESSAGE,V],deleteChatAction:[22,h.TYPES.MESSAGE,U],unarchiveChatsSetting:[23,h.TYPES.MESSAGE,T],primaryFeature:[24,h.TYPES.MESSAGE,P],androidUnsupportedActions:[26,h.TYPES.MESSAGE,O],agentAction:[27,h.TYPES.MESSAGE,N],subscriptionAction:[28,h.TYPES.MESSAGE,M],userStatusMuteAction:[29,h.TYPES.MESSAGE,L],timeFormatAction:[30,h.TYPES.MESSAGE,K],nuxAction:[31,h.TYPES.MESSAGE,J],primaryVersionAction:[32,h.TYPES.MESSAGE,I],stickerAction:[33,h.TYPES.MESSAGE,G],removeRecentStickerAction:[34,h.TYPES.MESSAGE,H],chatAssignment:[35,h.TYPES.MESSAGE,F],chatAssignmentOpenedStatus:[36,h.TYPES.MESSAGE,E],pnForLidChatAction:[37,h.TYPES.MESSAGE,D],marketingMessageAction:[38,h.TYPES.MESSAGE,C],marketingMessageBroadcastAction:[39,h.TYPES.MESSAGE,B],externalWebBetaAction:[40,h.TYPES.MESSAGE,A],privacySettingRelayAllCalls:[41,h.TYPES.MESSAGE,z],callLogAction:[42,h.TYPES.MESSAGE,y],statusPrivacy:[44,h.TYPES.MESSAGE,x],botWelcomeRequestAction:[45,h.TYPES.MESSAGE,w],deleteIndividualCallLog:[46,h.TYPES.MESSAGE,v],labelReorderingAction:[47,h.TYPES.MESSAGE,u],paymentInfoAction:[48,h.TYPES.MESSAGE,t],customPaymentMethodsAction:[49,h.TYPES.MESSAGE,q],lockChatAction:[50,h.TYPES.MESSAGE,p],chatLockSettings:[51,h.TYPES.MESSAGE,d("WAWebProtobufsChatLockSettings.pb").ChatLockSettingsSpec],wamoUserIdentifierAction:[52,h.TYPES.MESSAGE,o],privacySettingDisableLinkPreviewsAction:[53,h.TYPES.MESSAGE,n],deviceCapabilities:[54,h.TYPES.MESSAGE,d("WAWebProtobufsDeviceCapabilities.pb").DeviceCapabilitiesSpec],noteEditAction:[55,h.TYPES.MESSAGE,m]};m.internalSpec={type:[1,h.TYPES.ENUM,b],chatJid:[2,h.TYPES.STRING],createdAt:[3,h.TYPES.INT64],deleted:[4,h.TYPES.BOOL],unstructuredContent:[5,h.TYPES.STRING]};n.internalSpec={isPreviewsDisabled:[1,h.TYPES.BOOL]};o.internalSpec={identifier:[1,h.TYPES.STRING]};p.internalSpec={locked:[1,h.TYPES.BOOL]};q.internalSpec={customPaymentMethods:[1,h.FLAGS.REPEATED|h.TYPES.MESSAGE,r]};r.internalSpec={credentialId:[1,h.FLAGS.REQUIRED|h.TYPES.STRING],country:[2,h.FLAGS.REQUIRED|h.TYPES.STRING],type:[3,h.FLAGS.REQUIRED|h.TYPES.STRING],metadata:[4,h.FLAGS.REPEATED|h.TYPES.MESSAGE,s]};s.internalSpec={key:[1,h.FLAGS.REQUIRED|h.TYPES.STRING],value:[2,h.FLAGS.REQUIRED|h.TYPES.STRING]};t.internalSpec={cpi:[1,h.TYPES.STRING]};u.internalSpec={sortedLabelIds:[1,h.FLAGS.REPEATED|h.TYPES.INT32]};v.internalSpec={peerJid:[1,h.TYPES.STRING],isIncoming:[2,h.TYPES.BOOL]};w.internalSpec={isSent:[1,h.TYPES.BOOL]};x.internalSpec={mode:[1,h.TYPES.ENUM,aa],userJid:[2,h.FLAGS.REPEATED|h.TYPES.STRING]};y.internalSpec={callLogRecord:[1,h.TYPES.MESSAGE,j]};z.internalSpec={isEnabled:[1,h.TYPES.BOOL]};A.internalSpec={isOptIn:[1,h.TYPES.BOOL]};B.internalSpec={repliedCount:[1,h.TYPES.INT32]};C.internalSpec={name:[1,h.TYPES.STRING],message:[2,h.TYPES.STRING],type:[3,h.TYPES.ENUM,ba],createdAt:[4,h.TYPES.INT64],lastSentAt:[5,h.TYPES.INT64],isDeleted:[6,h.TYPES.BOOL],mediaId:[7,h.TYPES.STRING]};D.internalSpec={pnJid:[1,h.TYPES.STRING]};E.internalSpec={chatOpened:[1,h.TYPES.BOOL]};F.internalSpec={deviceAgentID:[1,h.TYPES.STRING]};G.internalSpec={url:[1,h.TYPES.STRING],fileEncSha256:[2,h.TYPES.BYTES],mediaKey:[3,h.TYPES.BYTES],mimetype:[4,h.TYPES.STRING],height:[5,h.TYPES.UINT32],width:[6,h.TYPES.UINT32],directPath:[7,h.TYPES.STRING],fileLength:[8,h.TYPES.UINT64],isFavorite:[9,h.TYPES.BOOL],deviceIdHint:[10,h.TYPES.UINT32],isLottie:[11,h.TYPES.BOOL]};H.internalSpec={lastStickerSentTs:[1,h.TYPES.INT64]};I.internalSpec={version:[1,h.TYPES.STRING]};J.internalSpec={acknowledged:[1,h.TYPES.BOOL]};K.internalSpec={isTwentyFourHourFormatEnabled:[1,h.TYPES.BOOL]};L.internalSpec={muted:[1,h.TYPES.BOOL]};M.internalSpec={isDeactivated:[1,h.TYPES.BOOL],isAutoRenewing:[2,h.TYPES.BOOL],expirationDate:[3,h.TYPES.INT64]};N.internalSpec={name:[1,h.TYPES.STRING],deviceID:[2,h.TYPES.INT32],isDeleted:[3,h.TYPES.BOOL]};O.internalSpec={allowed:[1,h.TYPES.BOOL]};P.internalSpec={flags:[1,h.FLAGS.REPEATED|h.TYPES.STRING]};Q.internalSpec={expiredKeyEpoch:[1,h.TYPES.INT32]};R.internalSpec={key:[1,h.TYPES.MESSAGE,d("WAWebProtobufsProtocol.pb").MessageKeySpec],timestamp:[2,h.TYPES.INT64]};S.internalSpec={lastMessageTimestamp:[1,h.TYPES.INT64],lastSystemMessageTimestamp:[2,h.TYPES.INT64],messages:[3,h.FLAGS.REPEATED|h.TYPES.MESSAGE,R]};T.internalSpec={unarchiveChats:[1,h.TYPES.BOOL]};U.internalSpec={messageRange:[1,h.TYPES.MESSAGE,S]};V.internalSpec={messageRange:[1,h.TYPES.MESSAGE,S]};W.internalSpec={read:[1,h.TYPES.BOOL],messageRange:[2,h.TYPES.MESSAGE,S]};X.internalSpec={deleteMedia:[1,h.TYPES.BOOL],messageTimestamp:[2,h.TYPES.INT64]};Y.internalSpec={archived:[1,h.TYPES.BOOL],messageRange:[2,h.TYPES.MESSAGE,S]};Z.internalSpec={weights:[1,h.FLAGS.REPEATED|h.TYPES.MESSAGE,i]};$.internalSpec={name:[1,h.TYPES.STRING],color:[2,h.TYPES.INT32],predefinedId:[3,h.TYPES.INT32],deleted:[4,h.TYPES.BOOL],orderIndex:[5,h.TYPES.INT32]};ca.internalSpec={labeled:[1,h.TYPES.BOOL]};da.internalSpec={shortcut:[1,h.TYPES.STRING],message:[2,h.TYPES.STRING],keywords:[3,h.FLAGS.REPEATED|h.TYPES.STRING],count:[4,h.TYPES.INT32],deleted:[5,h.TYPES.BOOL]};ea.internalSpec={locale:[1,h.TYPES.STRING]};fa.internalSpec={name:[1,h.TYPES.STRING]};ga.internalSpec={showNotification:[1,h.TYPES.BOOL]};ha.internalSpec={pinned:[1,h.TYPES.BOOL]};ia.internalSpec={muted:[1,h.TYPES.BOOL],muteEndTimestamp:[2,h.TYPES.INT64],autoMuted:[3,h.TYPES.BOOL]};ja.internalSpec={fullName:[1,h.TYPES.STRING],firstName:[2,h.TYPES.STRING],lidJid:[3,h.TYPES.STRING],saveOnPrimaryAddressbook:[4,h.TYPES.BOOL]};ka.internalSpec={starred:[1,h.TYPES.BOOL]};la.internalSpec={index:[1,h.TYPES.BYTES],value:[2,h.TYPES.MESSAGE,l],padding:[3,h.TYPES.BYTES],version:[4,h.TYPES.INT32]};ma.internalSpec={currentLthash:[1,h.TYPES.BYTES],newLthash:[2,h.TYPES.BYTES],patchVersion:[3,h.TYPES.BYTES],collectionName:[4,h.TYPES.BYTES],firstFourBytesFromAHashOfSnapshotMacKey:[5,h.TYPES.BYTES],newLthashSubtract:[6,h.TYPES.BYTES],numberAdd:[7,h.TYPES.INT32],numberRemove:[8,h.TYPES.INT32],numberOverride:[9,h.TYPES.INT32],senderPlatform:[10,h.TYPES.ENUM,a],isSenderPrimary:[11,h.TYPES.BOOL]};g.CallLogRecord$CallType=c;g.CallLogRecord$SilenceReason=e;g.CallLogRecord$CallResult=f;g.SyncActionValue$NoteEditAction$NoteType=b;g.SyncActionValue$StatusPrivacyAction$StatusDistributionMode=aa;g.SyncActionValue$MarketingMessageAction$MarketingMessagePrototypeType=ba;g.PatchDebugData$Platform=a;g.RecentEmojiWeightSpec=i;g.CallLogRecordSpec=j;g.CallLogRecord$ParticipantInfoSpec=k;g.SyncActionValueSpec=l;g.SyncActionValue$NoteEditActionSpec=m;g.SyncActionValue$PrivacySettingDisableLinkPreviewsActionSpec=n;g.SyncActionValue$WamoUserIdentifierActionSpec=o;g.SyncActionValue$LockChatActionSpec=p;g.SyncActionValue$CustomPaymentMethodsActionSpec=q;g.SyncActionValue$CustomPaymentMethodSpec=r;g.SyncActionValue$CustomPaymentMethodMetadataSpec=s;g.SyncActionValue$PaymentInfoActionSpec=t;g.SyncActionValue$LabelReorderingActionSpec=u;g.SyncActionValue$DeleteIndividualCallLogActionSpec=v;g.SyncActionValue$BotWelcomeRequestActionSpec=w;g.SyncActionValue$StatusPrivacyActionSpec=x;g.SyncActionValue$CallLogActionSpec=y;g.SyncActionValue$PrivacySettingRelayAllCallsSpec=z;g.SyncActionValue$ExternalWebBetaActionSpec=A;g.SyncActionValue$MarketingMessageBroadcastActionSpec=B;g.SyncActionValue$MarketingMessageActionSpec=C;g.SyncActionValue$PnForLidChatActionSpec=D;g.SyncActionValue$ChatAssignmentOpenedStatusActionSpec=E;g.SyncActionValue$ChatAssignmentActionSpec=F;g.SyncActionValue$StickerActionSpec=G;g.SyncActionValue$RemoveRecentStickerActionSpec=H;g.SyncActionValue$PrimaryVersionActionSpec=I;g.SyncActionValue$NuxActionSpec=J;g.SyncActionValue$TimeFormatActionSpec=K;g.SyncActionValue$UserStatusMuteActionSpec=L;g.SyncActionValue$SubscriptionActionSpec=M;g.SyncActionValue$AgentActionSpec=N;g.SyncActionValue$AndroidUnsupportedActionsSpec=O;g.SyncActionValue$PrimaryFeatureSpec=P;g.SyncActionValue$KeyExpirationSpec=Q;g.SyncActionValue$SyncActionMessageSpec=R;g.SyncActionValue$SyncActionMessageRangeSpec=S;g.SyncActionValue$UnarchiveChatsSettingSpec=T;g.SyncActionValue$DeleteChatActionSpec=U;g.SyncActionValue$ClearChatActionSpec=V;g.SyncActionValue$MarkChatAsReadActionSpec=W;g.SyncActionValue$DeleteMessageForMeActionSpec=X;g.SyncActionValue$ArchiveChatActionSpec=Y;g.SyncActionValue$RecentEmojiWeightsActionSpec=Z;g.SyncActionValue$LabelEditActionSpec=$;g.SyncActionValue$LabelAssociationActionSpec=ca;g.SyncActionValue$QuickReplyActionSpec=da;g.SyncActionValue$LocaleSettingSpec=ea;g.SyncActionValue$PushNameSettingSpec=fa;g.SyncActionValue$SecurityNotificationSettingSpec=ga;g.SyncActionValue$PinActionSpec=ha;g.SyncActionValue$MuteActionSpec=ia;g.SyncActionValue$ContactActionSpec=ja;g.SyncActionValue$StarActionSpec=ka;g.SyncActionDataSpec=la;g.PatchDebugDataSpec=ma}),98);
__d("WAWebProtobufsWeb.pb",["$InternalEnum","WAProtoConst","WAWebProtobufsE2E.pb","WAWebProtobufsProtocol.pb"],(function(a,b,c,d,e,f,g){var h,i;c=(a=b("$InternalEnum"))({E2EE:0,FB:2,BSP:1,BSP_AND_FB:3});e=a({UNKNOWN:0,REVOKE:1,CIPHERTEXT:2,FUTUREPROOF:3,NON_VERIFIED_TRANSITION:4,UNVERIFIED_TRANSITION:5,VERIFIED_TRANSITION:6,VERIFIED_LOW_UNKNOWN:7,VERIFIED_HIGH:8,VERIFIED_INITIAL_UNKNOWN:9,VERIFIED_INITIAL_LOW:10,VERIFIED_INITIAL_HIGH:11,VERIFIED_TRANSITION_ANY_TO_NONE:12,VERIFIED_TRANSITION_ANY_TO_HIGH:13,VERIFIED_TRANSITION_HIGH_TO_LOW:14,VERIFIED_TRANSITION_HIGH_TO_UNKNOWN:15,VERIFIED_TRANSITION_UNKNOWN_TO_LOW:16,VERIFIED_TRANSITION_LOW_TO_UNKNOWN:17,VERIFIED_TRANSITION_NONE_TO_LOW:18,VERIFIED_TRANSITION_NONE_TO_UNKNOWN:19,GROUP_CREATE:20,GROUP_CHANGE_SUBJECT:21,GROUP_CHANGE_ICON:22,GROUP_CHANGE_INVITE_LINK:23,GROUP_CHANGE_DESCRIPTION:24,GROUP_CHANGE_RESTRICT:25,GROUP_CHANGE_ANNOUNCE:26,GROUP_PARTICIPANT_ADD:27,GROUP_PARTICIPANT_REMOVE:28,GROUP_PARTICIPANT_PROMOTE:29,GROUP_PARTICIPANT_DEMOTE:30,GROUP_PARTICIPANT_INVITE:31,GROUP_PARTICIPANT_LEAVE:32,GROUP_PARTICIPANT_CHANGE_NUMBER:33,BROADCAST_CREATE:34,BROADCAST_ADD:35,BROADCAST_REMOVE:36,GENERIC_NOTIFICATION:37,E2E_IDENTITY_CHANGED:38,E2E_ENCRYPTED:39,CALL_MISSED_VOICE:40,CALL_MISSED_VIDEO:41,INDIVIDUAL_CHANGE_NUMBER:42,GROUP_DELETE:43,GROUP_ANNOUNCE_MODE_MESSAGE_BOUNCE:44,CALL_MISSED_GROUP_VOICE:45,CALL_MISSED_GROUP_VIDEO:46,PAYMENT_CIPHERTEXT:47,PAYMENT_FUTUREPROOF:48,PAYMENT_TRANSACTION_STATUS_UPDATE_FAILED:49,PAYMENT_TRANSACTION_STATUS_UPDATE_REFUNDED:50,PAYMENT_TRANSACTION_STATUS_UPDATE_REFUND_FAILED:51,PAYMENT_TRANSACTION_STATUS_RECEIVER_PENDING_SETUP:52,PAYMENT_TRANSACTION_STATUS_RECEIVER_SUCCESS_AFTER_HICCUP:53,PAYMENT_ACTION_ACCOUNT_SETUP_REMINDER:54,PAYMENT_ACTION_SEND_PAYMENT_REMINDER:55,PAYMENT_ACTION_SEND_PAYMENT_INVITATION:56,PAYMENT_ACTION_REQUEST_DECLINED:57,PAYMENT_ACTION_REQUEST_EXPIRED:58,PAYMENT_ACTION_REQUEST_CANCELLED:59,BIZ_VERIFIED_TRANSITION_TOP_TO_BOTTOM:60,BIZ_VERIFIED_TRANSITION_BOTTOM_TO_TOP:61,BIZ_INTRO_TOP:62,BIZ_INTRO_BOTTOM:63,BIZ_NAME_CHANGE:64,BIZ_MOVE_TO_CONSUMER_APP:65,BIZ_TWO_TIER_MIGRATION_TOP:66,BIZ_TWO_TIER_MIGRATION_BOTTOM:67,OVERSIZED:68,GROUP_CHANGE_NO_FREQUENTLY_FORWARDED:69,GROUP_V4_ADD_INVITE_SENT:70,GROUP_PARTICIPANT_ADD_REQUEST_JOIN:71,CHANGE_EPHEMERAL_SETTING:72,E2E_DEVICE_CHANGED:73,VIEWED_ONCE:74,E2E_ENCRYPTED_NOW:75,BLUE_MSG_BSP_FB_TO_BSP_PREMISE:76,BLUE_MSG_BSP_FB_TO_SELF_FB:77,BLUE_MSG_BSP_FB_TO_SELF_PREMISE:78,BLUE_MSG_BSP_FB_UNVERIFIED:79,BLUE_MSG_BSP_FB_UNVERIFIED_TO_SELF_PREMISE_VERIFIED:80,BLUE_MSG_BSP_FB_VERIFIED:81,BLUE_MSG_BSP_FB_VERIFIED_TO_SELF_PREMISE_UNVERIFIED:82,BLUE_MSG_BSP_PREMISE_TO_SELF_PREMISE:83,BLUE_MSG_BSP_PREMISE_UNVERIFIED:84,BLUE_MSG_BSP_PREMISE_UNVERIFIED_TO_SELF_PREMISE_VERIFIED:85,BLUE_MSG_BSP_PREMISE_VERIFIED:86,BLUE_MSG_BSP_PREMISE_VERIFIED_TO_SELF_PREMISE_UNVERIFIED:87,BLUE_MSG_CONSUMER_TO_BSP_FB_UNVERIFIED:88,BLUE_MSG_CONSUMER_TO_BSP_PREMISE_UNVERIFIED:89,BLUE_MSG_CONSUMER_TO_SELF_FB_UNVERIFIED:90,BLUE_MSG_CONSUMER_TO_SELF_PREMISE_UNVERIFIED:91,BLUE_MSG_SELF_FB_TO_BSP_PREMISE:92,BLUE_MSG_SELF_FB_TO_SELF_PREMISE:93,BLUE_MSG_SELF_FB_UNVERIFIED:94,BLUE_MSG_SELF_FB_UNVERIFIED_TO_SELF_PREMISE_VERIFIED:95,BLUE_MSG_SELF_FB_VERIFIED:96,BLUE_MSG_SELF_FB_VERIFIED_TO_SELF_PREMISE_UNVERIFIED:97,BLUE_MSG_SELF_PREMISE_TO_BSP_PREMISE:98,BLUE_MSG_SELF_PREMISE_UNVERIFIED:99,BLUE_MSG_SELF_PREMISE_VERIFIED:100,BLUE_MSG_TO_BSP_FB:101,BLUE_MSG_TO_CONSUMER:102,BLUE_MSG_TO_SELF_FB:103,BLUE_MSG_UNVERIFIED_TO_BSP_FB_VERIFIED:104,BLUE_MSG_UNVERIFIED_TO_BSP_PREMISE_VERIFIED:105,BLUE_MSG_UNVERIFIED_TO_SELF_FB_VERIFIED:106,BLUE_MSG_UNVERIFIED_TO_VERIFIED:107,BLUE_MSG_VERIFIED_TO_BSP_FB_UNVERIFIED:108,BLUE_MSG_VERIFIED_TO_BSP_PREMISE_UNVERIFIED:109,BLUE_MSG_VERIFIED_TO_SELF_FB_UNVERIFIED:110,BLUE_MSG_VERIFIED_TO_UNVERIFIED:111,BLUE_MSG_BSP_FB_UNVERIFIED_TO_BSP_PREMISE_VERIFIED:112,BLUE_MSG_BSP_FB_UNVERIFIED_TO_SELF_FB_VERIFIED:113,BLUE_MSG_BSP_FB_VERIFIED_TO_BSP_PREMISE_UNVERIFIED:114,BLUE_MSG_BSP_FB_VERIFIED_TO_SELF_FB_UNVERIFIED:115,BLUE_MSG_SELF_FB_UNVERIFIED_TO_BSP_PREMISE_VERIFIED:116,BLUE_MSG_SELF_FB_VERIFIED_TO_BSP_PREMISE_UNVERIFIED:117,E2E_IDENTITY_UNAVAILABLE:118,GROUP_CREATING:119,GROUP_CREATE_FAILED:120,GROUP_BOUNCED:121,BLOCK_CONTACT:122,EPHEMERAL_SETTING_NOT_APPLIED:123,SYNC_FAILED:124,SYNCING:125,BIZ_PRIVACY_MODE_INIT_FB:126,BIZ_PRIVACY_MODE_INIT_BSP:127,BIZ_PRIVACY_MODE_TO_FB:128,BIZ_PRIVACY_MODE_TO_BSP:129,DISAPPEARING_MODE:130,E2E_DEVICE_FETCH_FAILED:131,ADMIN_REVOKE:132,GROUP_INVITE_LINK_GROWTH_LOCKED:133,COMMUNITY_LINK_PARENT_GROUP:134,COMMUNITY_LINK_SIBLING_GROUP:135,COMMUNITY_LINK_SUB_GROUP:136,COMMUNITY_UNLINK_PARENT_GROUP:137,COMMUNITY_UNLINK_SIBLING_GROUP:138,COMMUNITY_UNLINK_SUB_GROUP:139,GROUP_PARTICIPANT_ACCEPT:140,GROUP_PARTICIPANT_LINKED_GROUP_JOIN:141,COMMUNITY_CREATE:142,EPHEMERAL_KEEP_IN_CHAT:143,GROUP_MEMBERSHIP_JOIN_APPROVAL_REQUEST:144,GROUP_MEMBERSHIP_JOIN_APPROVAL_MODE:145,INTEGRITY_UNLINK_PARENT_GROUP:146,COMMUNITY_PARTICIPANT_PROMOTE:147,COMMUNITY_PARTICIPANT_DEMOTE:148,COMMUNITY_PARENT_GROUP_DELETED:149,COMMUNITY_LINK_PARENT_GROUP_MEMBERSHIP_APPROVAL:150,GROUP_PARTICIPANT_JOINED_GROUP_AND_PARENT_GROUP:151,MASKED_THREAD_CREATED:152,MASKED_THREAD_UNMASKED:153,BIZ_CHAT_ASSIGNMENT:154,CHAT_PSA:155,CHAT_POLL_CREATION_MESSAGE:156,CAG_MASKED_THREAD_CREATED:157,COMMUNITY_PARENT_GROUP_SUBJECT_CHANGED:158,CAG_INVITE_AUTO_ADD:159,BIZ_CHAT_ASSIGNMENT_UNASSIGN:160,CAG_INVITE_AUTO_JOINED:161,SCHEDULED_CALL_START_MESSAGE:162,COMMUNITY_INVITE_RICH:163,COMMUNITY_INVITE_AUTO_ADD_RICH:164,SUB_GROUP_INVITE_RICH:165,SUB_GROUP_PARTICIPANT_ADD_RICH:166,COMMUNITY_LINK_PARENT_GROUP_RICH:167,COMMUNITY_PARTICIPANT_ADD_RICH:168,SILENCED_UNKNOWN_CALLER_AUDIO:169,SILENCED_UNKNOWN_CALLER_VIDEO:170,GROUP_MEMBER_ADD_MODE:171,GROUP_MEMBERSHIP_JOIN_APPROVAL_REQUEST_NON_ADMIN_ADD:172,COMMUNITY_CHANGE_DESCRIPTION:173,SENDER_INVITE:174,RECEIVER_INVITE:175,COMMUNITY_ALLOW_MEMBER_ADDED_GROUPS:176,PINNED_MESSAGE_IN_CHAT:177,PAYMENT_INVITE_SETUP_INVITER:178,PAYMENT_INVITE_SETUP_INVITEE_RECEIVE_ONLY:179,PAYMENT_INVITE_SETUP_INVITEE_SEND_AND_RECEIVE:180,LINKED_GROUP_CALL_START:181,REPORT_TO_ADMIN_ENABLED_STATUS:182,EMPTY_SUBGROUP_CREATE:183,SCHEDULED_CALL_CANCEL:184,SUBGROUP_ADMIN_TRIGGERED_AUTO_ADD_RICH:185,GROUP_CHANGE_RECENT_HISTORY_SHARING:186,PAID_MESSAGE_SERVER_CAMPAIGN_ID:187,GENERAL_CHAT_CREATE:188,GENERAL_CHAT_ADD:189,GENERAL_CHAT_AUTO_ADD_DISABLED:190,SUGGESTED_SUBGROUP_ANNOUNCE:191,BIZ_BOT_1P_MESSAGING_ENABLED:192,CHANGE_USERNAME:193,BIZ_COEX_PRIVACY_INIT_SELF:194,BIZ_COEX_PRIVACY_TRANSITION_SELF:195,SUPPORT_AI_EDUCATION:196,BIZ_BOT_3P_MESSAGING_ENABLED:197,REMINDER_SETUP_MESSAGE:198,REMINDER_SENT_MESSAGE:199,REMINDER_CANCEL_MESSAGE:200,BIZ_COEX_PRIVACY_INIT:201,BIZ_COEX_PRIVACY_TRANSITION:202,GROUP_DEACTIVATED:203,COMMUNITY_DEACTIVATE_SIBLING_GROUP:204});f=a({ERROR:0,PENDING:1,SERVER_ACK:2,DELIVERY_ACK:3,READ:4,PLAYED:5});b=a({UNKNOWN:0,PENDING_SETUP:1,PENDING_RECEIVER_SETUP:2,INIT:3,SUCCESS:4,COMPLETED:5,FAILED:6,FAILED_RISK:7,FAILED_PROCESSING:8,FAILED_RECEIVER_PROCESSING:9,FAILED_DA:10,FAILED_DA_FINAL:11,REFUNDED_TXN:12,REFUND_FAILED:13,REFUND_FAILED_PROCESSING:14,REFUND_FAILED_DA:15,EXPIRED_TXN:16,AUTH_CANCELED:17,AUTH_CANCEL_FAILED_PROCESSING:18,AUTH_CANCEL_FAILED:19,COLLECT_INIT:20,COLLECT_SUCCESS:21,COLLECT_FAILED:22,COLLECT_FAILED_RISK:23,COLLECT_REJECTED:24,COLLECT_EXPIRED:25,COLLECT_CANCELED:26,COLLECT_CANCELLING:27,IN_REVIEW:28,REVERSAL_SUCCESS:29,REVERSAL_PENDING:30,REFUND_PENDING:31});var j=a({UNKNOWN_STATUS:0,PROCESSING:1,SENT:2,NEED_TO_ACCEPT:3,COMPLETE:4,COULD_NOT_COMPLETE:5,REFUNDED:6,EXPIRED:7,REJECTED:8,CANCELLED:9,WAITING_FOR_PAYER:10,WAITING:11}),k=a({UNKNOWN_CURRENCY:0,INR:1}),l=a({NOT_STARTED:0,FORCE_UPGRADE:1,DEVELOPMENT:2,PRODUCTION:3});a=a({UNKNOWN_TYPE:0,PIN_FOR_ALL:1,UNPIN_FOR_ALL:2});var m={},n={},o={},p={},q={},r={},s={},t={},u={},v={},w={},x={},y={},z={},A={},B={},C={},D={},E={},F={};m.internalDefaults={status:f.PENDING};m.internalSpec={key:[1,(h=d("WAProtoConst")).FLAGS.REQUIRED|h.TYPES.MESSAGE,(i=d("WAWebProtobufsProtocol.pb")).MessageKeySpec],message:[2,h.TYPES.MESSAGE,(d=d("WAWebProtobufsE2E.pb")).MessageSpec],messageTimestamp:[3,h.TYPES.UINT64],status:[4,h.TYPES.ENUM,f],participant:[5,h.TYPES.STRING],messageC2STimestamp:[6,h.TYPES.UINT64],ignore:[16,h.TYPES.BOOL],starred:[17,h.TYPES.BOOL],broadcast:[18,h.TYPES.BOOL],pushName:[19,h.TYPES.STRING],mediaCiphertextSha256:[20,h.TYPES.BYTES],multicast:[21,h.TYPES.BOOL],urlText:[22,h.TYPES.BOOL],urlNumber:[23,h.TYPES.BOOL],messageStubType:[24,h.TYPES.ENUM,e],clearMedia:[25,h.TYPES.BOOL],messageStubParameters:[26,h.FLAGS.REPEATED|h.TYPES.STRING],duration:[27,h.TYPES.UINT32],labels:[28,h.FLAGS.REPEATED|h.TYPES.STRING],paymentInfo:[29,h.TYPES.MESSAGE,o],finalLiveLocation:[30,h.TYPES.MESSAGE,d.Message$LiveLocationMessageSpec],quotedPaymentInfo:[31,h.TYPES.MESSAGE,o],ephemeralStartTimestamp:[32,h.TYPES.UINT64],ephemeralDuration:[33,h.TYPES.UINT32],ephemeralOffToOn:[34,h.TYPES.BOOL],ephemeralOutOfSync:[35,h.TYPES.BOOL],bizPrivacyStatus:[36,h.TYPES.ENUM,c],verifiedBizName:[37,h.TYPES.STRING],mediaData:[38,h.TYPES.MESSAGE,t],photoChange:[39,h.TYPES.MESSAGE,u],userReceipt:[40,h.FLAGS.REPEATED|h.TYPES.MESSAGE,w],reactions:[41,h.FLAGS.REPEATED|h.TYPES.MESSAGE,x],quotedStickerData:[42,h.TYPES.MESSAGE,t],futureproofData:[43,h.TYPES.BYTES],statusPsa:[44,h.TYPES.MESSAGE,v],pollUpdates:[45,h.FLAGS.REPEATED|h.TYPES.MESSAGE,y],pollAdditionalMetadata:[46,h.TYPES.MESSAGE,z],agentId:[47,h.TYPES.STRING],statusAlreadyViewed:[48,h.TYPES.BOOL],messageSecret:[49,h.TYPES.BYTES],keepInChat:[50,h.TYPES.MESSAGE,B],originalSelfAuthorUserJidString:[51,h.TYPES.STRING],revokeMessageTimestamp:[52,h.TYPES.UINT64],pinInChat:[54,h.TYPES.MESSAGE,C],premiumMessageInfo:[55,h.TYPES.MESSAGE,E],is1PBizBotMessage:[56,h.TYPES.BOOL],isGroupHistoryMessage:[57,h.TYPES.BOOL],botMessageInvokerJid:[58,h.TYPES.STRING],commentMetadata:[59,h.TYPES.MESSAGE,n],eventResponses:[61,h.FLAGS.REPEATED|h.TYPES.MESSAGE,F],reportingTokenInfo:[62,h.TYPES.MESSAGE,s],newsletterServerId:[63,h.TYPES.UINT64],eventAdditionalMetadata:[64,h.TYPES.MESSAGE,A]};n.internalSpec={commentParentKey:[1,h.TYPES.MESSAGE,i.MessageKeySpec],replyCount:[2,h.TYPES.UINT32]};o.internalSpec={currencyDeprecated:[1,h.TYPES.ENUM,k],amount1000:[2,h.TYPES.UINT64],receiverJid:[3,h.TYPES.STRING],status:[4,h.TYPES.ENUM,j],transactionTimestamp:[5,h.TYPES.UINT64],requestMessageKey:[6,h.TYPES.MESSAGE,i.MessageKeySpec],expiryTimestamp:[7,h.TYPES.UINT64],futureproofed:[8,h.TYPES.BOOL],currency:[9,h.TYPES.STRING],txnStatus:[10,h.TYPES.ENUM,b],useNoviFiatFormat:[11,h.TYPES.BOOL],primaryAmount:[12,h.TYPES.MESSAGE,d.MoneySpec],exchangeAmount:[13,h.TYPES.MESSAGE,d.MoneySpec]};p.internalSpec={timestamp:[2,h.TYPES.UINT64],unreadChats:[3,h.TYPES.UINT32],notifyMessageCount:[4,h.TYPES.UINT32],notifyMessages:[5,h.FLAGS.REPEATED|h.TYPES.MESSAGE,m]};q.internalSpec={key:[1,h.TYPES.MESSAGE,i.MessageKeySpec],message:[2,h.TYPES.MESSAGE,d.MessageSpec],messageTimestamp:[3,h.TYPES.UINT64],participant:[4,h.TYPES.STRING]};r.internalSpec={labelsDisplay:[1,h.TYPES.ENUM,l],voipIndividualOutgoing:[2,h.TYPES.ENUM,l],groupsV3:[3,h.TYPES.ENUM,l],groupsV3Create:[4,h.TYPES.ENUM,l],changeNumberV2:[5,h.TYPES.ENUM,l],queryStatusV3Thumbnail:[6,h.TYPES.ENUM,l],liveLocations:[7,h.TYPES.ENUM,l],queryVname:[8,h.TYPES.ENUM,l],voipIndividualIncoming:[9,h.TYPES.ENUM,l],quickRepliesQuery:[10,h.TYPES.ENUM,l],payments:[11,h.TYPES.ENUM,l],stickerPackQuery:[12,h.TYPES.ENUM,l],liveLocationsFinal:[13,h.TYPES.ENUM,l],labelsEdit:[14,h.TYPES.ENUM,l],mediaUpload:[15,h.TYPES.ENUM,l],mediaUploadRichQuickReplies:[18,h.TYPES.ENUM,l],vnameV2:[19,h.TYPES.ENUM,l],videoPlaybackUrl:[20,h.TYPES.ENUM,l],statusRanking:[21,h.TYPES.ENUM,l],voipIndividualVideo:[22,h.TYPES.ENUM,l],thirdPartyStickers:[23,h.TYPES.ENUM,l],frequentlyForwardedSetting:[24,h.TYPES.ENUM,l],groupsV4JoinPermission:[25,h.TYPES.ENUM,l],recentStickers:[26,h.TYPES.ENUM,l],catalog:[27,h.TYPES.ENUM,l],starredStickers:[28,h.TYPES.ENUM,l],voipGroupCall:[29,h.TYPES.ENUM,l],templateMessage:[30,h.TYPES.ENUM,l],templateMessageInteractivity:[31,h.TYPES.ENUM,l],ephemeralMessages:[32,h.TYPES.ENUM,l],e2ENotificationSync:[33,h.TYPES.ENUM,l],recentStickersV2:[34,h.TYPES.ENUM,l],recentStickersV3:[36,h.TYPES.ENUM,l],userNotice:[37,h.TYPES.ENUM,l],support:[39,h.TYPES.ENUM,l],groupUiiCleanup:[40,h.TYPES.ENUM,l],groupDogfoodingInternalOnly:[41,h.TYPES.ENUM,l],settingsSync:[42,h.TYPES.ENUM,l],archiveV2:[43,h.TYPES.ENUM,l],ephemeralAllowGroupMembers:[44,h.TYPES.ENUM,l],ephemeral24HDuration:[45,h.TYPES.ENUM,l],mdForceUpgrade:[46,h.TYPES.ENUM,l],disappearingMode:[47,h.TYPES.ENUM,l],externalMdOptInAvailable:[48,h.TYPES.ENUM,l],noDeleteMessageTimeLimit:[49,h.TYPES.ENUM,l]};s.internalSpec={reportingTag:[1,h.TYPES.BYTES]};t.internalSpec={localPath:[1,h.TYPES.STRING]};u.internalSpec={oldPhoto:[1,h.TYPES.BYTES],newPhoto:[2,h.TYPES.BYTES],newPhotoId:[3,h.TYPES.UINT32]};v.internalSpec={campaignId:[44,h.FLAGS.REQUIRED|h.TYPES.UINT64],campaignExpirationTimestamp:[45,h.TYPES.UINT64]};w.internalSpec={userJid:[1,h.FLAGS.REQUIRED|h.TYPES.STRING],receiptTimestamp:[2,h.TYPES.INT64],readTimestamp:[3,h.TYPES.INT64],playedTimestamp:[4,h.TYPES.INT64],pendingDeviceJid:[5,h.FLAGS.REPEATED|h.TYPES.STRING],deliveredDeviceJid:[6,h.FLAGS.REPEATED|h.TYPES.STRING]};x.internalSpec={key:[1,h.TYPES.MESSAGE,i.MessageKeySpec],text:[2,h.TYPES.STRING],groupingKey:[3,h.TYPES.STRING],senderTimestampMs:[4,h.TYPES.INT64],unread:[5,h.TYPES.BOOL]};y.internalSpec={pollUpdateMessageKey:[1,h.TYPES.MESSAGE,i.MessageKeySpec],vote:[2,h.TYPES.MESSAGE,d.Message$PollVoteMessageSpec],senderTimestampMs:[3,h.TYPES.INT64],serverTimestampMs:[4,h.TYPES.INT64],unread:[5,h.TYPES.BOOL]};z.internalSpec={pollInvalidated:[1,h.TYPES.BOOL]};A.internalSpec={isStale:[1,h.TYPES.BOOL]};B.internalSpec={keepType:[1,h.TYPES.ENUM,d.KeepType],serverTimestamp:[2,h.TYPES.INT64],key:[3,h.TYPES.MESSAGE,i.MessageKeySpec],deviceJid:[4,h.TYPES.STRING],clientTimestampMs:[5,h.TYPES.INT64],serverTimestampMs:[6,h.TYPES.INT64]};C.internalSpec={type:[1,h.TYPES.ENUM,a],key:[2,h.TYPES.MESSAGE,i.MessageKeySpec],senderTimestampMs:[3,h.TYPES.INT64],serverTimestampMs:[4,h.TYPES.INT64],messageAddOnContextInfo:[5,h.TYPES.MESSAGE,D]};D.internalSpec={messageAddOnDurationInSecs:[1,h.TYPES.UINT32]};E.internalSpec={serverCampaignId:[1,h.TYPES.STRING]};F.internalSpec={eventResponseMessageKey:[1,h.TYPES.MESSAGE,i.MessageKeySpec],timestampMs:[2,h.TYPES.INT64],eventResponseMessage:[3,h.TYPES.MESSAGE,d.Message$EventResponseMessageSpec],unread:[4,h.TYPES.BOOL]};g.WebMessageInfo$BizPrivacyStatus=c;g.WebMessageInfo$StubType=e;g.WebMessageInfo$Status=f;g.PaymentInfo$TxnStatus=b;g.PaymentInfo$Status=j;g.PaymentInfo$Currency=k;g.WebFeatures$Flag=l;g.PinInChat$Type=a;g.WebMessageInfoSpec=m;g.CommentMetadataSpec=n;g.PaymentInfoSpec=o;g.WebNotificationsInfoSpec=p;g.NotificationMessageInfoSpec=q;g.WebFeaturesSpec=r;g.ReportingTokenInfoSpec=s;g.MediaDataSpec=t;g.PhotoChangeSpec=u;g.StatusPSASpec=v;g.UserReceiptSpec=w;g.ReactionSpec=x;g.PollUpdateSpec=y;g.PollAdditionalMetadataSpec=z;g.EventAdditionalMetadataSpec=A;g.KeepInChatSpec=B;g.PinInChatSpec=C;g.MessageAddOnContextInfoSpec=D;g.PremiumMessageInfoSpec=E;g.EventResponseSpec=F}),98);
__d("WAWebProtobufsHistorySync.pb",["$InternalEnum","WAProtoConst","WAWebProtobufSyncAction.pb","WAWebProtobufsChatLockSettings.pb","WAWebProtobufsE2E.pb","WAWebProtobufsWeb.pb"],(function(a,b,c,d,e,f,g){var h;c=(a=b("$InternalEnum"))({IN_WAITLIST:0,AI_AVAILABLE:1});e=a({INITIAL_BOOTSTRAP:0,INITIAL_STATUS_V3:1,FULL:2,RECENT:3,PUSH_NAME:4,NON_BLOCKING_DATA:5,ON_DEMAND:6});f=a({COMPLETE_BUT_MORE_MESSAGES_REMAIN_ON_PRIMARY:0,COMPLETE_AND_NO_MORE_MESSAGE_REMAIN_ON_PRIMARY:1,COMPLETE_ON_DEMAND_SYNC_BUT_MORE_MSG_REMAIN_ON_PRIMARY:2});b=a({REGULAR:0,ADMIN:1,SUPERADMIN:2});var i=a({DEFAULT:0,OFF:1,ON:2});a=a({LEFT:0,REMOVED:1});var j={},k={},l={},m={},n={},o={},p={},q={},r={},s={},t={},u={},v={},w={};j.internalSpec={syncType:[1,(h=d("WAProtoConst")).FLAGS.REQUIRED|h.TYPES.ENUM,e],conversations:[2,h.FLAGS.REPEATED|h.TYPES.MESSAGE,k],statusV3Messages:[3,h.FLAGS.REPEATED|h.TYPES.MESSAGE,d("WAWebProtobufsWeb.pb").WebMessageInfoSpec],chunkOrder:[5,h.TYPES.UINT32],progress:[6,h.TYPES.UINT32],pushnames:[7,h.FLAGS.REPEATED|h.TYPES.MESSAGE,n],globalSettings:[8,h.TYPES.MESSAGE,q],threadIdUserSecret:[9,h.TYPES.BYTES],threadDsTimeframeOffset:[10,h.TYPES.UINT32],recentStickers:[11,h.FLAGS.REPEATED|h.TYPES.MESSAGE,s],pastParticipants:[12,h.FLAGS.REPEATED|h.TYPES.MESSAGE,t],callLogRecords:[13,h.FLAGS.REPEATED|h.TYPES.MESSAGE,d("WAWebProtobufSyncAction.pb").CallLogRecordSpec],aiWaitListState:[14,h.TYPES.ENUM,c],phoneNumberToLidMappings:[15,h.FLAGS.REPEATED|h.TYPES.MESSAGE,l]};k.internalSpec={id:[1,h.FLAGS.REQUIRED|h.TYPES.STRING],messages:[2,h.FLAGS.REPEATED|h.TYPES.MESSAGE,m],newJid:[3,h.TYPES.STRING],oldJid:[4,h.TYPES.STRING],lastMsgTimestamp:[5,h.TYPES.UINT64],unreadCount:[6,h.TYPES.UINT32],readOnly:[7,h.TYPES.BOOL],endOfHistoryTransfer:[8,h.TYPES.BOOL],ephemeralExpiration:[9,h.TYPES.UINT32],ephemeralSettingTimestamp:[10,h.TYPES.INT64],endOfHistoryTransferType:[11,h.TYPES.ENUM,f],conversationTimestamp:[12,h.TYPES.UINT64],name:[13,h.TYPES.STRING],pHash:[14,h.TYPES.STRING],notSpam:[15,h.TYPES.BOOL],archived:[16,h.TYPES.BOOL],disappearingMode:[17,h.TYPES.MESSAGE,d("WAWebProtobufsE2E.pb").DisappearingModeSpec],unreadMentionCount:[18,h.TYPES.UINT32],markedAsUnread:[19,h.TYPES.BOOL],participant:[20,h.FLAGS.REPEATED|h.TYPES.MESSAGE,o],tcToken:[21,h.TYPES.BYTES],tcTokenTimestamp:[22,h.TYPES.UINT64],contactPrimaryIdentityKey:[23,h.TYPES.BYTES],pinned:[24,h.TYPES.UINT32],muteEndTime:[25,h.TYPES.UINT64],wallpaper:[26,h.TYPES.MESSAGE,p],mediaVisibility:[27,h.TYPES.ENUM,i],tcTokenSenderTimestamp:[28,h.TYPES.UINT64],suspended:[29,h.TYPES.BOOL],terminated:[30,h.TYPES.BOOL],createdAt:[31,h.TYPES.UINT64],createdBy:[32,h.TYPES.STRING],description:[33,h.TYPES.STRING],support:[34,h.TYPES.BOOL],isParentGroup:[35,h.TYPES.BOOL],parentGroupId:[37,h.TYPES.STRING],isDefaultSubgroup:[36,h.TYPES.BOOL],displayName:[38,h.TYPES.STRING],pnJid:[39,h.TYPES.STRING],shareOwnPn:[40,h.TYPES.BOOL],pnhDuplicateLidThread:[41,h.TYPES.BOOL],lidJid:[42,h.TYPES.STRING],username:[43,h.TYPES.STRING],lidOriginType:[44,h.TYPES.STRING],commentsCount:[45,h.TYPES.UINT32],locked:[46,h.TYPES.BOOL]};l.internalSpec={pnJid:[1,h.TYPES.STRING],lidJid:[2,h.TYPES.STRING]};m.internalSpec={message:[1,h.TYPES.MESSAGE,d("WAWebProtobufsWeb.pb").WebMessageInfoSpec],msgOrderId:[2,h.TYPES.UINT64]};n.internalSpec={id:[1,h.TYPES.STRING],pushname:[2,h.TYPES.STRING]};o.internalSpec={userJid:[1,h.FLAGS.REQUIRED|h.TYPES.STRING],rank:[2,h.TYPES.ENUM,b]};p.internalSpec={filename:[1,h.TYPES.STRING],opacity:[2,h.TYPES.UINT32]};q.internalSpec={lightThemeWallpaper:[1,h.TYPES.MESSAGE,p],mediaVisibility:[2,h.TYPES.ENUM,i],darkThemeWallpaper:[3,h.TYPES.MESSAGE,p],autoDownloadWiFi:[4,h.TYPES.MESSAGE,r],autoDownloadCellular:[5,h.TYPES.MESSAGE,r],autoDownloadRoaming:[6,h.TYPES.MESSAGE,r],showIndividualNotificationsPreview:[7,h.TYPES.BOOL],showGroupNotificationsPreview:[8,h.TYPES.BOOL],disappearingModeDuration:[9,h.TYPES.INT32],disappearingModeTimestamp:[10,h.TYPES.INT64],avatarUserSettings:[11,h.TYPES.MESSAGE,v],fontSize:[12,h.TYPES.INT32],securityNotifications:[13,h.TYPES.BOOL],autoUnarchiveChats:[14,h.TYPES.BOOL],videoQualityMode:[15,h.TYPES.INT32],photoQualityMode:[16,h.TYPES.INT32],individualNotificationSettings:[17,h.TYPES.MESSAGE,w],groupNotificationSettings:[18,h.TYPES.MESSAGE,w],chatLockSettings:[19,h.TYPES.MESSAGE,d("WAWebProtobufsChatLockSettings.pb").ChatLockSettingsSpec]};r.internalSpec={downloadImages:[1,h.TYPES.BOOL],downloadAudio:[2,h.TYPES.BOOL],downloadVideo:[3,h.TYPES.BOOL],downloadDocuments:[4,h.TYPES.BOOL]};s.internalSpec={url:[1,h.TYPES.STRING],fileSha256:[2,h.TYPES.BYTES],fileEncSha256:[3,h.TYPES.BYTES],mediaKey:[4,h.TYPES.BYTES],mimetype:[5,h.TYPES.STRING],height:[6,h.TYPES.UINT32],width:[7,h.TYPES.UINT32],directPath:[8,h.TYPES.STRING],fileLength:[9,h.TYPES.UINT64],weight:[10,h.TYPES.FLOAT],lastStickerSentTs:[11,h.TYPES.INT64],isLottie:[12,h.TYPES.BOOL]};t.internalSpec={groupJid:[1,h.TYPES.STRING],pastParticipants:[2,h.FLAGS.REPEATED|h.TYPES.MESSAGE,u]};u.internalSpec={userJid:[1,h.TYPES.STRING],leaveReason:[2,h.TYPES.ENUM,a],leaveTs:[3,h.TYPES.UINT64]};v.internalSpec={fbid:[1,h.TYPES.STRING],password:[2,h.TYPES.STRING]};w.internalSpec={messageVibrate:[1,h.TYPES.STRING],messagePopup:[2,h.TYPES.STRING],messageLight:[3,h.TYPES.STRING],lowPriorityNotifications:[4,h.TYPES.BOOL],reactionsMuted:[5,h.TYPES.BOOL],callVibrate:[6,h.TYPES.STRING]};g.HistorySync$BotAIWaitListState=c;g.HistorySync$HistorySyncType=e;g.Conversation$EndOfHistoryTransferType=f;g.GroupParticipant$Rank=b;g.MediaVisibility=i;g.PastParticipant$LeaveReason=a;g.HistorySyncSpec=j;g.ConversationSpec=k;g.PhoneNumberToLIDMappingSpec=l;g.HistorySyncMsgSpec=m;g.PushnameSpec=n;g.GroupParticipantSpec=o;g.WallpaperSettingsSpec=p;g.GlobalSettingsSpec=q;g.AutoDownloadSettingsSpec=r;g.StickerMetadataSpec=s;g.PastParticipantsSpec=t;g.PastParticipantSpec=u;g.AvatarUserSettingsSpec=v;g.NotificationSettingsSpec=w}),98);
__d("WAWebUserPrefsBot",["WAWebProtobufsHistorySync.pb","WAWebRuntimeEnvironmentUtils","WAWebUserPrefsIndexedDBStorage","WAWebUserPrefsKeys","WAWebUserPrefsStore","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(){var a=c("WAWebUserPrefsStore").get(d("WAWebUserPrefsKeys").MD_KEYS.BOT_LIST_LAST_REQUESTED_TIMESTAMP);a=typeof a==="number"?a:0;return a}function e(a){c("WAWebUserPrefsStore").set(d("WAWebUserPrefsKeys").MD_KEYS.BOT_LIST_LAST_REQUESTED_TIMESTAMP,a)}function f(){var a=null;d("WAWebRuntimeEnvironmentUtils").isWorker()||(a=c("WAWebUserPrefsStore").get(d("WAWebUserPrefsKeys").MD_KEYS.BOT_AI_WAITLIST_STATE));if(a==null){var b=d("WAWebUserPrefsIndexedDBStorage").userPrefsIdb.get(d("WAWebUserPrefsKeys").MD_KEYS.BOT_AI_WAITLIST_STATE);b!=null&&typeof b==="number"&&c("WAWebUserPrefsStore").set(d("WAWebUserPrefsKeys").MD_KEYS.BOT_AI_WAITLIST_STATE,b)}return typeof a!=="number"?null:(b=d("WAWebProtobufsHistorySync.pb").HistorySync$BotAIWaitListState.cast(a))!=null?b:null}function h(){var a=d("WAWebUserPrefsIndexedDBStorage").userPrefsIdb.get(d("WAWebUserPrefsKeys").MD_KEYS.BOT_AI_WAITLIST_STATE);return typeof a!=="number"?null:(a=d("WAWebProtobufsHistorySync.pb").HistorySync$BotAIWaitListState.cast(a))!=null?a:null}function i(a){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("WAWebRuntimeEnvironmentUtils").isWorker()||c("WAWebUserPrefsStore").set(d("WAWebUserPrefsKeys").MD_KEYS.BOT_AI_WAITLIST_STATE,a),yield d("WAWebUserPrefsIndexedDBStorage").userPrefsIdb.set(d("WAWebUserPrefsKeys").MD_KEYS.BOT_AI_WAITLIST_STATE,a)});return j.apply(this,arguments)}g.getBotListLastRequestedTimestamp=a;g.setBotListLastRequestedTimestamp=e;g.getBotWaitlistState=f;g.getBotWaitlistStateFromIdb=h;g.setBotWaitlistState=i}),98);
__d("WAWebBotGating",["WAWebABProps","WAWebBotGenTypingIndicatorMsg","WAWebL10N","WAWebMobilePlatforms","WAWebMsgGetters","WAWebProtobufsHistorySync.pb","WAWebUserPrefsBot","gkx"],(function(a,b,c,d,e,f,g){function h(){if(d("WAWebMobilePlatforms").isSMB())return!1;if(c("gkx")("26255")&&c("gkx")("26258"))return!1;if(d("WAWebABProps").getABPropConfigValue("bonsai_english_only")&&c("WAWebL10N").getLanguage()!=="en")return!1;return l()?j():k()}function i(){return c("gkx")("26255")&&c("gkx")("26258")&&d("WAWebABProps").getABPropConfigValue("bonsai_inline_feedback_enabled")===!0?!1:d("WAWebABProps").getABPropConfigValue("bonsai_receiver_enabled")===!0}function j(){if(!l())return!1;if(!n())return!1;return!m()?!1:d("WAWebUserPrefsBot").getBotWaitlistState()===d("WAWebProtobufsHistorySync.pb").HistorySync$BotAIWaitListState.AI_AVAILABLE}function k(){return!l()&&m()&&n()}function l(){return d("WAWebABProps").getABPropConfigValue("bonsai_waitlist_enabled")===!0}function m(){return d("WAWebABProps").getABPropConfigValue("bonsai_enabled")===!0}function n(){return d("WAWebABProps").getABPropConfigValue("bonsai_entry_point_enabled")===!0}function o(){return d("WAWebABProps").getABPropConfigValue("bot_response_futureproof_message_enabled")===!0}function a(){return h()||o()||i()}function b(){return h()&&d("WAWebABProps").getABPropConfigValue("bonsai_ptt_enabled")===!0}function e(){return i()&&d("WAWebABProps").getABPropConfigValue("bonsai_word_streaming_enabled")===!0}function f(a){return!h()?!1:Boolean(d("WAWebMsgGetters").getIsMetaBotResponse(a))||a.subtype===d("WAWebBotGenTypingIndicatorMsg").BOT_TYPING_PLACEHOLDER_MSG_SUBTYPE}function p(){return d("WAWebABProps").getABPropConfigValue("wabai_message_rendering_enabled")}function q(){return d("WAWebABProps").getABPropConfigValue("wabai_message_feedback_enabled")}function r(){return d("WAWebABProps").getABPropConfigValue("bot_3p_status")!==0}function s(){return d("WAWebABProps").getABPropConfigValue("bot_3p_status")===2}function t(){return i()&&d("WAWebABProps").getABPropConfigValue("bonsai_carousel_enabled")}function u(){return h()&&n()&&d("WAWebABProps").getABPropConfigValue("bonsai_chat_list_entry_point_enabled")}function v(){return h()&&n()&&!u()}function w(){return d("WAWebABProps").getABPropConfigValue("wabai_consent_cooldown")}function x(){return d("WAWebABProps").getABPropConfigValue("wabai_consent_required")}function y(){return h()&&d("WAWebABProps").getABPropConfigValue("bot_commands_1p_enabled")}g.isBotEnabled=h;g.isBotReceiveEnabled=i;g.isBotResponseFutureproofMsgEnabled=o;g.isBotMsgParseEnabledForFutureproofOrFullRecv=a;g.isBotPttEnabled=b;g.isBotPerWordStreamingEnabled=e;g.shouldAnimateAsBotStream=f;g.isBizBot1pEnabled=p;g.isBizBot1pFeedbackEnabled=q;g.isBizBot3pEnabled=r;g.isBizBot3pAvailable=s;g.isBotCarouselEnabled=t;g.isBotShortcutEntryPointEnabled=u;g.isBotNewChatEntryPointEnabled=v;g.bizBotConsentDismissalCooldown=w;g.isBizBotConsentRequired=x;g.isMetaBotCommandsEnabled=y}),98);
__d("WAWebMsgKeyNewId",["WABinary","WAHex","WATimeUtils","WAWebUserPrefsMeUser","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h=function(){var a=d("WATimeUtils").unixTime(),b=d("WAWebUserPrefsMeUser").getMeUser().toString(),c=d("WAHex").parseHex(d("WAHex").randomHex(16)),e=new(d("WABinary").Binary)();e.writeInt64(a);e.writeString(b);e.writeBuffer(c);return e.readByteArray()};a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=new Uint8Array(yield self.crypto.subtle.digest("SHA-256",h()),0,9);return"3EB0"+d("WAHex").toHex(a)});return function(){return a.apply(this,arguments)}}();g.genMsgKeyUint=h;g.getMsgKeyNewSHA256Id=a}),98);
__d("WAWebMsgKey",["WAHex","WALogger","WAWebMsgKeyNewId","WAWebParseMsgKeyString","WAWebUserPrefsMeUser","WAWebWid","WAWebWidFactory","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["getMsgKeyNewId: ",", message: ",", stack: ",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[msg-key] generated ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Incorrect Wid MsgKey: remote:"," p:",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["MsgKey case error: ",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["Incorrect Wid MsgKey: from:"," to:"," p:",""]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["No matching constructor MsgKey: ",""]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["Unclear constructor MsgKey: ",""]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["MsgKey error: id is already a MsgKey"]);o=function(){return a};return a}a=function(){function a(b){b=b;if(!b)throw c("err")("MsgKey error: obj is null/undefined");b.id instanceof a&&(b=b.id,d("WALogger").WARN(o()));var e=b.from&&b.to&&b.id,f=b.fromMe!==void 0&&b.remote&&b.id,g,h,i,p,q,r,s,t=d("WAWebUserPrefsMeUser").getMaybeMeUser();if(!t)throw c("err")("MsgKey error: me is undefined. Running tests? Call setupGlobalsForTests first.");else if(e&&f){d("WALogger").WARN(n(),JSON.stringify(b));throw c("err")("MsgKey error: unclear which constructor to use")}else if(!e&&!f){d("WALogger").WARN(m(),JSON.stringify(b));throw c("err")("MsgKey error: don't have a matching constructor")}else if(e){e=b;g=e.from;h=e.to;i=e.id;p=e.participant;q=e.selfDir;if(!(g instanceof c("WAWebWid"))||!(h instanceof c("WAWebWid"))||p&&!(p instanceof c("WAWebWid"))){d("WALogger").WARN(l(),String(g),String(h),String(p));throw c("err")("MsgKey error: something is not a wid")}e=c("WAWebWid").equals(g,h);q=e?q:void 0;e&&d("WAWebUserPrefsMeUser").isMePrimary(g)?(r=q==="out",s=t):d("WAWebUserPrefsMeUser").isMePrimary(g)?(r=!0,s=h):d("WAWebUserPrefsMeUser").isMePrimary(h)?(r=!1,s=g):e&&(c("WAWebWid").isGroup(g)||c("WAWebWid").isBroadcast(g))?(r=!0,s=g):d("WALogger").WARN(k(),[g,h,i,t].join());r!==void 0&&(this.fromMe=r);s&&(this.remote=s);i&&(this.id=i)}else if(f){e=b;r=e.fromMe;s=e.remote;i=e.id;p=e.participant;if(!(s instanceof c("WAWebWid"))||p&&!(p instanceof c("WAWebWid"))){d("WALogger").WARN(j(),String(s),String(p));throw c("err")("MsgKey error: something is not a wid")}d("WAWebUserPrefsMeUser").isMePrimary(s)&&(q=r===!0?"out":"in");r!==void 0&&(this.fromMe=r);s&&(this.remote=s);i&&(this.id=i)}g=[this.fromMe,this.remote,this.id];q!==void 0&&(this.self=q,g.push(this.self));p!==void 0&&(this.participant=p,g.push(this.participant));this._serialized=g.join("_")}var e=a.prototype;e.toString=function(){return this._serialized};e.clone=function(){return new a({fromMe:this.fromMe,remote:this.remote,id:this.id,participant:this.participant})};e.equals=function(b){return b instanceof a&&this.toString()===b.toString()};a.fromString=function(b){if(b==null)throw c("err")("MsgKey.fromString error: str is null or not a string");return a.from(b)};a.from=function(b){if(b instanceof a)return b;var e;typeof b==="string"?e=c("WAWebParseMsgKeyString")(b):e=b;return new a({fromMe:e.fromMe,remote:d("WAWebWidFactory").createWidFromWidLike(e.remote),id:e.id,participant:e.participant?d("WAWebWidFactory").createWidFromWidLike(e.participant):void 0})};a.newId=function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var b=(yield d("WAWebMsgKeyNewId").getMsgKeyNewSHA256Id());d("WALogger").DEV(i(),b);return b}catch(b){d("WALogger").ERROR(h(),b.name,b.message,b.stack).devConsole(b).sendLogs("msg_key: error generating sha256 message key");return a.newId_DEPRECATED()}});function e(){return c.apply(this,arguments)}return e}();a.newId_DEPRECATED=function(){return"3EB0"+d("WAHex").randomHex(8)};return a}();g["default"]=a}),98);
__d("WAWebBotGenTypingIndicatorMsg",["WAWebABProps","WAWebBackendApi","WAWebBotGating","WAWebMsgKey","WAWebWid","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){f="bot_typing_placeholder";function a(a){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(!d("WAWebBotGating").isBotEnabled())return;var b=a.id;if(b instanceof c("WAWebWid")&&!b.isBot()&&!((a=a.contact.businessProfile)==null?void 0:a.isBizBot3p))return;a=new(c("WAWebMsgKey"))({fromMe:!1,remote:b,id:c("WAWebMsgKey").newId_DEPRECATED()});d("WAWebBackendApi").frontendFireAndForget("addInitialBotTypingIndicatorToChat",{chatId:b,msgKey:a})});return h.apply(this,arguments)}function e(){var a=d("WAWebABProps").getABPropConfigValue("bonsai_ti_timeout_duration_ms");return a}g.BOT_TYPING_PLACEHOLDER_MSG_SUBTYPE=f;g.genBotTypingIndicatorMessage=a;g.getBotTypingIndicatorTimeout=e}),98);
__d("WAWebBotTosIds",[],(function(a,b,c,d,e,f){a="20230901";b="20230902";c="20240216";d="20231027";f.BOT_AGENT_TOS_ID=a;f.BOT_INVOKE_TOS_ID=b;f.BOT_SHORTCUT_TOS_ID=c;f.BIZ_BOT_TOS_ID=d}),66);
__d("WASmaxInUserNoticeIQErrorBadRequestMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"text","bad-request");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrInt,a,"code",400);return!a.success?a:d("WAResultOrError").makeResult({text:b.value,code:a.value})}g.parseIQErrorBadRequestMixin=a}),98);
__d("WASmaxInUserNoticeIQErrorResponseMixin",["WAResultOrError","WASmaxParseReference","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseReference").attrStringFromReference(b,["id"]);if(!c.success)return c;c=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"id",c.value);if(!c.success)return c;c=d("WASmaxParseReference").attrStringFromReference(b,["to"]);if(!c.success)return c;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"from",c.value);if(!b.success)return b;c=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"type","error");return!c.success?c:d("WAResultOrError").makeResult({type:c.value})}g.parseIQErrorResponseMixin=a}),98);
__d("WASmaxInUserNoticeGetDisclosuresResponseClientError",["WAResultOrError","WASmaxInUserNoticeIQErrorBadRequestMixin","WASmaxInUserNoticeIQErrorResponseMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"error");if(!c.success)return c;c=d("WASmaxInUserNoticeIQErrorBadRequestMixin").parseIQErrorBadRequestMixin(c.value);if(!c.success)return c;a=d("WASmaxInUserNoticeIQErrorResponseMixin").parseIQErrorResponseMixin(a,b);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({errorIQErrorBadRequestMixin:c.value},a.value))}g.parseGetDisclosuresResponseClientError=a}),98);
__d("WASmaxInUserNoticeIQResultResponseMixin",["WAResultOrError","WASmaxParseReference","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseReference").attrStringFromReference(b,["id"]);if(!c.success)return c;c=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"id",c.value);if(!c.success)return c;c=d("WASmaxParseReference").attrStringFromReference(b,["to"]);if(!c.success)return c;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"from",c.value);if(!b.success)return b;c=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"type","result");return!c.success?c:d("WAResultOrError").makeResult({type:c.value})}g.parseIQResultResponseMixin=a}),98);
__d("WASmaxInUserNoticeStageMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"notice");if(!b.success)return b;b=d("WASmaxParseUtils").attrIntRange(a,"id",0,void 0);if(!b.success)return b;a=d("WASmaxParseUtils").attrIntRange(a,"stage",0,1e3);return!a.success?a:d("WAResultOrError").makeResult({id:b.value,stage:a.value})}g.parseStageMixin=a}),98);
__d("WASmaxInUserNoticeGetDisclosuresResponseClientSuccess",["WAResultOrError","WASmaxInUserNoticeIQResultResponseMixin","WASmaxInUserNoticeStageMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function h(a){var b=d("WASmaxParseUtils").assertTag(a,"notice");if(!b.success)return b;b=d("WASmaxParseUtils").attrIntRange(a,"t",0,void 0);if(!b.success)return b;var c=d("WASmaxParseUtils").attrIntRange(a,"version",1,void 0);if(!c.success)return c;var e=d("WASmaxParseUtils").attrIntRange(a,"type",0,void 0);if(!e.success)return e;a=d("WASmaxInUserNoticeStageMixin").parseStageMixin(a);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({t:b.value,version:c.value,type:e.value},a.value))}function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxInUserNoticeIQResultResponseMixin").parseIQResultResponseMixin(a,b);if(!c.success)return c;b=d("WASmaxParseUtils").mapChildrenWithTag(a,"notice",0,Infinity,h);return!b.success?b:d("WAResultOrError").makeResult(babelHelpers["extends"]({},c.value,{notice:b.value}))}g.parseGetDisclosuresResponseClientSuccessNotice=h;g.parseGetDisclosuresResponseClientSuccess=a}),98);
__d("WASmaxInUserNoticeIQErrorInternalServerErrorMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"text","internal-server-error");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrInt,a,"code",500);return!a.success?a:d("WAResultOrError").makeResult({text:b.value,code:a.value})}g.parseIQErrorInternalServerErrorMixin=a}),98);
__d("WASmaxInUserNoticeGetDisclosuresResponseServerError",["WAResultOrError","WASmaxInUserNoticeIQErrorInternalServerErrorMixin","WASmaxInUserNoticeIQErrorResponseMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"error");if(!c.success)return c;c=d("WASmaxInUserNoticeIQErrorInternalServerErrorMixin").parseIQErrorInternalServerErrorMixin(c.value);if(!c.success)return c;a=d("WASmaxInUserNoticeIQErrorResponseMixin").parseIQErrorResponseMixin(a,b);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({errorIQErrorInternalServerErrorMixin:c.value},a.value))}g.parseGetDisclosuresResponseServerError=a}),98);
__d("WASmaxOutUserNoticeBaseIQGetRequestMixin",["WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(){var a=d("WASmaxJsx").smax("iq",{id:d("WAWap").generateId(),type:"get"});return a}function a(a){var b=h();return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeBaseIQGetRequestMixin=a}),98);
__d("WASmaxOutUserNoticeGetDisclosuresRequest",["WASmaxJsx","WASmaxOutUserNoticeBaseIQGetRequestMixin","WAWap"],(function(a,b,c,d,e,f,g){function a(a){a=a.getUserDisclosuresT;a=d("WASmaxOutUserNoticeBaseIQGetRequestMixin").mergeBaseIQGetRequestMixin(d("WASmaxJsx").smax("iq",{to:d("WAWap").S_WHATSAPP_NET,xmlns:"tos"},d("WASmaxJsx").smax("get_user_disclosures",{t:d("WAWap").INT(a)})));return a}g.makeGetDisclosuresRequest=a}),98);
__d("WASmaxUserNoticeGetDisclosuresRPC",["WAComms","WASmaxInUserNoticeGetDisclosuresResponseClientError","WASmaxInUserNoticeGetDisclosuresResponseClientSuccess","WASmaxInUserNoticeGetDisclosuresResponseServerError","WASmaxOutUserNoticeGetDisclosuresRequest","WASmaxParsingFailure","WASmaxRpcUtils","regeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(a,c){var e,f,g,h,i;return b("regeneratorRuntime").async(function(j){while(1)switch(j.prev=j.next){case 0:e=d("WASmaxOutUserNoticeGetDisclosuresRequest").makeGetDisclosuresRequest(a);j.next=3;return b("regeneratorRuntime").awrap(d("WAComms").sendSmaxStanza(e,c));case 3:f=j.sent;g=d("WASmaxInUserNoticeGetDisclosuresResponseClientSuccess").parseGetDisclosuresResponseClientSuccess(f,e);if(!g.success){j.next=7;break}return j.abrupt("return",{name:"GetDisclosuresResponseClientSuccess",value:g.value});case 7:h=d("WASmaxInUserNoticeGetDisclosuresResponseClientError").parseGetDisclosuresResponseClientError(f,e);if(!h.success){j.next=10;break}return j.abrupt("return",{name:"GetDisclosuresResponseClientError",value:h.value});case 10:i=d("WASmaxInUserNoticeGetDisclosuresResponseServerError").parseGetDisclosuresResponseServerError(f,e);if(!i.success){j.next=13;break}return j.abrupt("return",{name:"GetDisclosuresResponseServerError",value:i.value});case 13:throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(d("WASmaxRpcUtils").errorMessageRpcParsing("GetDisclosures",{ClientSuccess:g,ClientError:h,ServerError:i}));case 14:case"end":return j.stop()}},null,this)}g.sendGetDisclosuresRPC=a}),98);
__d("WAWebGetUserDisclosuresQueryJob",["WASmaxUserNoticeGetDisclosuresRPC","WATimeUtils","WAWebBackendErrors","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=d("WATimeUtils").unixTime();a=(yield d("WASmaxUserNoticeGetDisclosuresRPC").sendGetDisclosuresRPC({getUserDisclosuresT:a}));switch(a.name){case"GetDisclosuresResponseClientSuccess":return a.value.notice;case"GetDisclosuresResponseClientError":var b=a.value.errorIQErrorBadRequestMixin,c=b.code;b=b.text;throw new(d("WAWebBackendErrors").ServerStatusCodeError)(Number(c),b);case"GetDisclosuresResponseServerError":c=a.value.errorIQErrorInternalServerErrorMixin;b=c.code;a=c.text;throw new(d("WAWebBackendErrors").ServerStatusCodeError)(Number(b),a)}});return h.apply(this,arguments)}g.queryAllUserDisclosures=a}),98);
__d("WAWebGetUserDisclosuresJob",["WAJobOrchestratorTypes","WAWebGetUserDisclosuresQueryJob","WAWebOrchestratorNonPersistedJob"],(function(a,b,c,d,e,f,g){function a(){return d("WAWebOrchestratorNonPersistedJob").createNonPersistedJob("getAllUserDisclosures",function(){return d("WAWebGetUserDisclosuresQueryJob").queryAllUserDisclosures()},{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION}).waitUntilCompleted()}g.getAllUserDisclosures=a}),98);
__d("WAWebGetUserDisclosuresAction",["WAWebGetUserDisclosuresJob","WAWebTosJob","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h=5;function a(){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield d("WAWebGetUserDisclosuresJob").getAllUserDisclosures());a=a.map(function(a){return{id:a.id.toString(),state:a.stage===h}});return{refresh:d("WAWebTosJob").DEFAULT_TOS_REFRESH_INTERVAL,notice:a}});return i.apply(this,arguments)}g.getUserDisclosuresAction=a}),98);
__d("WAWebTos",["Promise","WACustomError","WAExponentialBackoff","WALogger","WAPromiseDelays","WAWebBackendErrors","WAWebBizGatingUtils","WAWebBotGating","WAWebBotTosIds","WAWebCmd","WAWebEventEmitter","WAWebGetUserDisclosuresAction","WAWebNewsletterGatingUtils","WAWebTosJob","WAWebUserPrefsKeys","WAWebUserPrefsMeUser","WAWebUserPrefsStore","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["ToS state manager server session state update failed, error: ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["ToS state manager server session state update failed, retriable error: ",", failCount ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["ToS state manager, fetch state for: ",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["ToS state manager, trigger change event"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["ToS state manager, saving notice ",", state ",""]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["ToS state manager, non recoverable error, exiting"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["ToS state manager, will retry in "," ms"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["ToS state manager state pull failed, error: ",""]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["ToS state manager query failed, retriable error: ",", failCount ",""]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["ToS state manager, run"]);r=function(){return a};return a}function s(){var a=babelHelpers.taggedTemplateLiteralLoose(["ToS state manager unrecognized user notice id: ",""]);s=function(){return a};return a}function t(){var a=babelHelpers.taggedTemplateLiteralLoose(["Unexpected error when getting notice id state: ",""]);t=function(){return a};return a}var u="20210210",v=function(b){babelHelpers.inheritsLoose(a,b);function a(a){return b.call(this,"Unknown user notice id: "+a)||this}return a}(d("WACustomError").customError("UnknownUserNoticeIdError")),w={minTimeout:1e3,maxTimeout:16e3,retries:5,signal:new AbortController().signal};a=function(a){babelHelpers.inheritsLoose(e,a);function e(){var b,c;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=c=a.call.apply(a,[this].concat(f))||this,c._disclosureNoticeIds=[],c.botTosFetched=!1,c._refreshInterval=d("WAWebTosJob").DEFAULT_TOS_REFRESH_INTERVAL*1e3,b)||babelHelpers.assertThisInitialized(c)}var f=e.prototype;f._getTosNoticeIds=function(){var a=[];d("WAWebBizGatingUtils").tosFetchEnabled()&&a.push(u);d("WAWebBotGating").isBotEnabled()&&(this.botTosFetched=!0,a.push(d("WAWebBotTosIds").BOT_AGENT_TOS_ID,d("WAWebBotTosIds").BOT_INVOKE_TOS_ID),d("WAWebBotGating").isBotShortcutEntryPointEnabled()&&a.push(d("WAWebBotTosIds").BOT_SHORTCUT_TOS_ID));(d("WAWebBotGating").isBizBot1pEnabled()||d("WAWebBotGating").isBizBot3pEnabled())&&a.push(d("WAWebBotTosIds").BIZ_BOT_TOS_ID);return a};f._getAllNoticeIds=function(){var a=this._getTosNoticeIds().concat(this._disclosureNoticeIds);return a};f._addDisclosureNoticeIds=function(a){a=new Set(this._disclosureNoticeIds.concat(a));this._disclosureNoticeIds=Array.from(a)};f.getState=function(a){try{var b=this._getStoreKey(a);b=c("WAWebUserPrefsStore").getUser(b);b=typeof b==="string"&&(b==="UNKNOWN"||b==="NOT_ACCEPTED"||b==="ACCEPTED")?b:"UNKNOWN";return b}catch(b){b instanceof v||d("WALogger").ERROR(t(),a).tags("tos-manager").sendLogs("Unexpected error when getting notice id state").devConsole(b);return"UNKNOWN"}};f.setState=function(a,b){this._disclosureNoticeIds.includes(a)||x()&&this._getTosNoticeIds().includes(a)?(c("WAWebUserPrefsStore").setUser(this._getStoreKey(a),b),this.trigger("change")):d("WALogger").WARN(s(),a)};f.run=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=this;if(!x()&&!d("WAWebNewsletterGatingUtils").isNewsletterEnabled())return;try{yield d("WAExponentialBackoff").exponentialBackoff(w,function(a,c){d("WALogger").DEV(r());return b._query()["catch"](function(b){if(b instanceof d("WAWebBackendErrors").ServerStatusCodeError)switch(b.statusCode){case 500:d("WALogger").WARN(q(),b.message,c);return a(b)}throw b})})}catch(a){d("WALogger").ERROR(p(),a).verbose().devConsole(a).sendLogs("ToS state manager run failed");if(a instanceof d("WAWebBackendErrors").ServerStatusCodeError&&a.statusCode===500)d("WALogger").DEV(o(),this._refreshInterval);else{d("WALogger").DEV(n());return}}if((a==null?void 0:a.singleRun)===!0)return;if(this._getNoticeIdsToRun(this._getAllNoticeIds()).length>0){a=d("WAWebUserPrefsMeUser").getMaybeMeUser();yield d("WAPromiseDelays").delayMs(this._refreshInterval);d("WAWebUserPrefsMeUser").getMaybeMeUser()===a&&void this.run()}});function c(b){return a.apply(this,arguments)}return c}();f._query=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=this;if(!d("WAWebUserPrefsMeUser").getMaybeMeUser())return;var e=(yield (h||(h=b("Promise"))).all([this._tosQuery(),this._disclosuresQuery()])),f=e[0];e=e[1];this._refreshInterval=Math.min(f.refresh,e.refresh)*1e3;f=f.notice.concat(e.notice);var g=new Set(this._getAllNoticeIds());e=!1;f.filter(function(a){return g.has(a.id)}).forEach(function(b){var f=b.state?"ACCEPTED":"NOT_ACCEPTED",g=a._getStoreKey(b.id);c("WAWebUserPrefsStore").getUser(g)!==f&&(d("WALogger").DEV(m(),b.id,f),c("WAWebUserPrefsStore").setUser(g,f),e=!0)});c("WAWebUserPrefsStore").setUser(d("WAWebUserPrefsKeys").KEYS.TOS_STATE_FETCH_ITERATION,d("WAWebBizGatingUtils").tosFetchIteration());e&&(d("WALogger").DEV(l()),this.trigger("change"))});function a(){return a.apply(this,arguments)}return a}();f._getEmptyTosNoticeData=function(){return{refresh:d("WAWebTosJob").DEFAULT_TOS_REFRESH_INTERVAL,notice:[]}};f._tosQuery=function(){if(!x())return(h||(h=b("Promise"))).resolve(this._getEmptyTosNoticeData());var a=this._getNoticeIdsToRun(this._getTosNoticeIds());if(a.length>0){d("WALogger").DEV(k(),a);return d("WAWebTosJob").queryTosState(a)}return(h||(h=b("Promise"))).resolve(this._getEmptyTosNoticeData())};f._disclosuresQuery=function(){d("WAWebNewsletterGatingUtils").isNewsletterEnabled()&&this.populateTosManagerNewsletterIds();return this._disclosureNoticeIds.length===0?(h||(h=b("Promise"))).resolve(this._getEmptyTosNoticeData()):d("WAWebGetUserDisclosuresAction").getUserDisclosuresAction()};f._getNoticeIdsToRun=function(a){var b=this,e=parseInt(c("WAWebUserPrefsStore").getUser(d("WAWebUserPrefsKeys").KEYS.TOS_STATE_FETCH_ITERATION),10)||0;if(d("WAWebBizGatingUtils").tosFetchIteration()>e)return a;var f=a.map(function(a){return b.getState(a)});return a.filter(function(a,b){return f[b]!=="ACCEPTED"})};f._getStoreKey=function(a){var b=new Set(this._getAllNoticeIds());if(b.has(a))return"TOS_STATE_"+a;throw new v(a)};f.maybeUpdateServer=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var c=this;if(x())try{var e=new Set(a);yield d("WAExponentialBackoff").exponentialBackoff(w,function(a,f){var g=c._getAcceptedNoticeIds(e);return g.length>0?d("WAWebTosJob").updateTosState(g)["catch"](function(b){if(b instanceof d("WAWebBackendErrors").ServerStatusCodeError&&b.statusCode===500){d("WALogger").WARN(j(),b.message,f);return a(b)}throw b}):(h||(h=b("Promise"))).resolve()})}catch(a){d("WALogger").ERROR(i(),a).verbose().devConsole(a).sendLogs("ToS state manager server session state update failed")}});function c(b){return a.apply(this,arguments)}return c}();f._getAcceptedNoticeIds=function(a){var b=this;if(d("WAWebUserPrefsMeUser").getMaybeMeUser()){var c=this._getTosNoticeIds().map(function(a){return b.getState(a)});return this._getTosNoticeIds().filter(function(b,d){return c[d]==="ACCEPTED"&&a.has(b)})}return[]};f.resetAllState=function(){var a=this;this._getAllNoticeIds().forEach(function(b){c("WAWebUserPrefsStore").setUser(a._getStoreKey(b),void 0)});void d("WAWebTosJob").deleteTosState(u)};f.resetState=function(a){c("WAWebUserPrefsStore").setUser(this._getStoreKey(a),void 0),void d("WAWebTosJob").deleteTosState(a)};f.populateTosManagerNewsletterIds=function(){this._addDisclosureNoticeIds([d("WAWebNewsletterGatingUtils").getNewsletterConsumerTos(),d("WAWebNewsletterGatingUtils").getNewsletterProducerTos(),d("WAWebNewsletterGatingUtils").getNewsletterAdminInviteTos()])};return e}(c("WAWebEventEmitter"));function x(){return d("WAWebBizGatingUtils").tosFetchEnabled()||d("WAWebBotGating").isBizBot1pEnabled()||d("WAWebBotGating").isBizBot3pEnabled()}var y=new a();d("WAWebCmd").Cmd.on("bot_waitlist_state_updated",function(){d("WAWebBotGating").isBotEnabled()&&y.botTosFetched!==!0&&void y.run()});g.TOS_3_ID=u;g.TosManager=y}),98);
__d("WASmaxInUserNoticeSetResponseClientError",["WAResultOrError","WASmaxInUserNoticeIQErrorBadRequestMixin","WASmaxInUserNoticeIQErrorResponseMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"error");if(!c.success)return c;c=d("WASmaxInUserNoticeIQErrorBadRequestMixin").parseIQErrorBadRequestMixin(c.value);if(!c.success)return c;a=d("WASmaxInUserNoticeIQErrorResponseMixin").parseIQErrorResponseMixin(a,b);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({errorIQErrorBadRequestMixin:c.value},a.value))}g.parseSetResponseClientError=a}),98);
__d("WASmaxInUserNoticeSetResponseServerError",["WAResultOrError","WASmaxInUserNoticeIQErrorInternalServerErrorMixin","WASmaxInUserNoticeIQErrorResponseMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"error");if(!c.success)return c;c=d("WASmaxInUserNoticeIQErrorInternalServerErrorMixin").parseIQErrorInternalServerErrorMixin(c.value);if(!c.success)return c;a=d("WASmaxInUserNoticeIQErrorResponseMixin").parseIQErrorResponseMixin(a,b);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({errorIQErrorInternalServerErrorMixin:c.value},a.value))}g.parseSetResponseServerError=a}),98);
__d("WASmaxInUserNoticeSetResponseSuccess",["WAResultOrError","WASmaxInUserNoticeIQResultResponseMixin","WASmaxInUserNoticeStageMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function h(a){var b=d("WASmaxParseUtils").assertTag(a,"notice");if(!b.success)return b;b=d("WASmaxParseUtils").attrIntRange(a,"t",0,void 0);if(!b.success)return b;a=d("WASmaxInUserNoticeStageMixin").parseStageMixin(a);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({t:b.value},a.value))}function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").optionalChildWithTag(a,"notice",h);if(!c.success)return c;a=d("WASmaxInUserNoticeIQResultResponseMixin").parseIQResultResponseMixin(a,b);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({},a.value,{notice:c.value}))}g.parseSetResponseSuccessNotice=h;g.parseSetResponseSuccess=a}),98);
__d("WASmaxOutUserNoticeBaseIQSetRequestMixin",["WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(){var a=d("WASmaxJsx").smax("iq",{id:d("WAWap").generateId(),type:"set"});return a}function a(a){var b=h();return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeBaseIQSetRequestMixin=a}),98);
__d("WASmaxOutUserNoticeStageMixin",["WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(a){var b=a.noticeId;a=a.noticeStage;b=d("WASmaxJsx").smax("notice",{id:d("WAWap").INT(b),stage:d("WAWap").INT(a)});return b}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeStageMixin=a}),98);
__d("WASmaxOutUserNoticeSetRequest",["WASmaxJsx","WASmaxOutUserNoticeBaseIQSetRequestMixin","WASmaxOutUserNoticeStageMixin","WAWap"],(function(a,b,c,d,e,f,g){function a(a){a=a.stageMixinArgs;a=d("WASmaxOutUserNoticeBaseIQSetRequestMixin").mergeBaseIQSetRequestMixin(d("WASmaxJsx").smax("iq",{to:d("WAWap").S_WHATSAPP_NET,xmlns:"tos"},d("WASmaxOutUserNoticeStageMixin").mergeStageMixin(d("WASmaxJsx").smax("notice",null),a)));return a}g.makeSetRequest=a}),98);
__d("WASmaxUserNoticeSetRPC",["WAComms","WASmaxInUserNoticeSetResponseClientError","WASmaxInUserNoticeSetResponseServerError","WASmaxInUserNoticeSetResponseSuccess","WASmaxOutUserNoticeSetRequest","WASmaxParsingFailure","WASmaxRpcUtils","regeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(a,c){var e,f,g,h,i;return b("regeneratorRuntime").async(function(j){while(1)switch(j.prev=j.next){case 0:e=d("WASmaxOutUserNoticeSetRequest").makeSetRequest(a);j.next=3;return b("regeneratorRuntime").awrap(d("WAComms").sendSmaxStanza(e,c));case 3:f=j.sent;g=d("WASmaxInUserNoticeSetResponseSuccess").parseSetResponseSuccess(f,e);if(!g.success){j.next=7;break}return j.abrupt("return",{name:"SetResponseSuccess",value:g.value});case 7:h=d("WASmaxInUserNoticeSetResponseClientError").parseSetResponseClientError(f,e);if(!h.success){j.next=10;break}return j.abrupt("return",{name:"SetResponseClientError",value:h.value});case 10:i=d("WASmaxInUserNoticeSetResponseServerError").parseSetResponseServerError(f,e);if(!i.success){j.next=13;break}return j.abrupt("return",{name:"SetResponseServerError",value:i.value});case 13:throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(d("WASmaxRpcUtils").errorMessageRpcParsing("Set",{Success:g,ClientError:h,ServerError:i}));case 14:case"end":return j.stop()}},null,this)}g.sendSetRPC=a}),98);
__d("WAWebSetUserDisclosureStageQueryJob",["Promise","WASmaxUserNoticeSetRPC","WAWebBackendErrors","WAWebTos","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i={5:"ACCEPTED","-1":"UNKNOWN"};function a(a,b){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){var e={stageMixinArgs:{noticeId:a,noticeStage:c}};e=(yield d("WASmaxUserNoticeSetRPC").sendSetRPC(e));switch(e.name){case"SetResponseSuccess":c=i[c];d("WAWebTos").TosManager.setState(a.toString(),c);return(h||(h=b("Promise"))).resolve(!0);case"SetResponseClientError":a=e.value.errorIQErrorBadRequestMixin;c=a.code;a=a.text;throw new(d("WAWebBackendErrors").ServerStatusCodeError)(Number(c),a);case"SetResponseServerError":c=e.value.errorIQErrorInternalServerErrorMixin;a=c.code;e=c.text;throw new(d("WAWebBackendErrors").ServerStatusCodeError)(Number(a),e)}});return j.apply(this,arguments)}g.SetUserDisclosureStageQueryJob=a}),98);
__d("WAWebSetUserDisclosureStageJob",["WAJobOrchestratorTypes","WAWebOrchestratorNonPersistedJob","WAWebSetUserDisclosureStageQueryJob"],(function(a,b,c,d,e,f,g){function a(a,b){return d("WAWebOrchestratorNonPersistedJob").createNonPersistedJob("setUserDisclosureStage",function(){return d("WAWebSetUserDisclosureStageQueryJob").SetUserDisclosureStageQueryJob(a,b)},{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION}).waitUntilCompleted()}g.setUserDisclosureStage=a}),98);
__d("WAWebSetUserDisclosureStageAction",["WAWebSetUserDisclosureStageJob"],(function(a,b,c,d,e,f,g){var h=5;function a(a){return d("WAWebSetUserDisclosureStageJob").setUserDisclosureStage(a,h)}g.acceptUserDisclosureAction=a}),98);
__d("WAWebBotTos",["WATimeUtils","WAWebBotGating","WAWebBotTosIds","WAWebBotTypes","WAWebSetUserDisclosureStageAction","WAWebTos","WAWebUserPrefsStore","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h="BIZ_BOT_TOS_DISMISSED_AT";function a(){return i()||j()||k()}function i(){return d("WAWebTos").TosManager.getState(d("WAWebBotTosIds").BOT_AGENT_TOS_ID)==="ACCEPTED"}function j(){return d("WAWebTos").TosManager.getState(d("WAWebBotTosIds").BOT_INVOKE_TOS_ID)==="ACCEPTED"}function k(){return d("WAWebTos").TosManager.getState(d("WAWebBotTosIds").BOT_SHORTCUT_TOS_ID)==="ACCEPTED"}function e(a){if(a===d("WAWebBotTypes").BizBotType.BIZ_1P&&!d("WAWebBotGating").isBizBotConsentRequired()||l())return!0;a=c("WAWebUserPrefsStore").getUser(h);if(typeof a!=="number")return!1;var b=d("WAWebBotGating").bizBotConsentDismissalCooldown();if(b<0)return!0;return b===0?!1:d("WATimeUtils").unixTime()-a<b}function l(){return d("WAWebTos").TosManager.getState(d("WAWebBotTosIds").BIZ_BOT_TOS_ID)==="ACCEPTED"}function f(){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield d("WAWebSetUserDisclosureStageAction").acceptUserDisclosureAction(Number(d("WAWebBotTosIds").BOT_AGENT_TOS_ID))});return m.apply(this,arguments)}function n(){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield d("WAWebSetUserDisclosureStageAction").acceptUserDisclosureAction(Number(d("WAWebBotTosIds").BOT_INVOKE_TOS_ID))});return o.apply(this,arguments)}function p(){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield d("WAWebSetUserDisclosureStageAction").acceptUserDisclosureAction(Number(d("WAWebBotTosIds").BOT_SHORTCUT_TOS_ID))});return q.apply(this,arguments)}function r(){return s.apply(this,arguments)}function s(){s=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield d("WAWebSetUserDisclosureStageAction").acceptUserDisclosureAction(Number(d("WAWebBotTosIds").BIZ_BOT_TOS_ID))});return s.apply(this,arguments)}function t(){u(d("WATimeUtils").unixTime())}function u(a){c("WAWebUserPrefsStore").setUser(h,a)}g.hasSeenBotTos=a;g.hasSeenAgentTos=i;g.hasSeenInvokeTos=j;g.hasSeenShortcutTos=k;g.hasSeenBizBotTos=e;g.hasAcceptedBizBotTos=l;g.markSeenAgentTos=f;g.markSeenInvokeTos=n;g.markSeenShortcutTos=p;g.acceptBizBotTos=r;g.dismissBizBotTos=t;g.setBizBotTosDismissalTime=u}),98);